# Everyone's Answer Board - Claude Code Development Guide

> **üéØ Project**: Google Apps Script Web Application
> **üîß Stack**: Zero-Dependency Architecture, Direct GAS API Calls
> **ü§ñ Claude Code**: 2025 Best Practices Compliant
> **‚ö° Updated**: 2025-09-20 (Unified Naming Conventions Implemented)

## üß† Claude Code Core Principles

### üìã Primary Workflow: **Explore ‚Üí Plan ‚Üí Code ‚Üí Commit**

1. **Explore**: Read relevant files, analyze codebase - **NO CODING YET**
2. **Plan**: Create detailed implementation plan with TodoWrite
3. **Code**: Implement incrementally with TDD-first approach
4. **Commit**: Structured git workflow with proper documentation

## üèóÔ∏è GAS-Optimized Architecture

**Core Pattern**: Direct GAS API calls with natural global scope utilization

```
üåü GAS-Native Architecture
‚îú‚îÄ‚îÄ main.gs                    # Entry Point (doGet/doPost only)
‚îú‚îÄ‚îÄ auth.gs                    # Authentication (unified logic)
‚îú‚îÄ‚îÄ database.gs                # Database Operations (direct SpreadsheetApp)
‚îú‚îÄ‚îÄ permissions.gs             # Permission Management (simple role-based)
‚îú‚îÄ‚îÄ reactions.gs               # Reaction System (specialized feature)
‚îú‚îÄ‚îÄ utils.gs                   # Utility Functions (shared operations)
‚îî‚îÄ‚îÄ *.html                     # Frontend Templates
```

### **GAS-Native Implementation Pattern**
```javascript
// ‚úÖ Direct GAS API usage - natural global scope
function getCurrentEmail() {
  return Session.getActiveUser().getEmail();
}

function isAdministrator(email) {
  const adminEmail = PropertiesService.getScriptProperties().getProperty('ADMIN_EMAIL');
  return email?.toLowerCase() === adminEmail?.toLowerCase();
}

function getUserData(email) {
  // Direct SpreadsheetApp usage for owner data
  const dbId = PropertiesService.getScriptProperties().getProperty('DATABASE_SPREADSHEET_ID');
  const spreadsheet = SpreadsheetApp.openById(dbId);
  const sheet = spreadsheet.getSheetByName('users');
  // ... direct data operations
}

// ‚úÖ Service Account usage - ONLY for cross-user access
function getViewerBoardData(targetUserId, viewerEmail) {
  const targetUser = findUserById(targetUserId);
  if (targetUser.userEmail === viewerEmail) {
    // Own data: use normal permissions
    return getUserSpreadsheetData(targetUser);
  } else {
    // Other's data: use service account for viewer access
    return getDataWithServiceAccount(targetUser);
  }
}
```

## üõ†Ô∏è Development Commands

### **Essential Commands**
```bash
# Quality Gate (MUST pass before commit)
npm run check                   # Combined linting, testing, validation

# GAS Development Cycle
clasp push                      # Deploy to Google Apps Script
clasp logs                      # View execution logs
npm run deploy:safe             # Production deployment with validation
```

### **Claude Code Workflow**
```markdown
1. Ask Claude to read CLAUDE.md - Context loading
2. **Explore**: "Read [files] and analyze [problem] - DO NOT CODE YET"
3. **Plan**: "Create detailed implementation plan with TodoWrite"
4. **Code**: TDD-first implementation with task tracking
5. **Test**: `npm run check` - Quality gate (MUST pass)
6. **Deploy**: `npm run deploy:safe`
```

## üìù Google Apps Script V8 Best Practices

### üö® **Critical Migration (2025)**
- **Rhino Deprecated**: Feb 20, 2025
- **Rhino Shutdown**: Jan 31, 2026 (scripts will stop working)
- **Action Required**: Migrate all scripts to V8 runtime

### üéØ **Performance Optimization (70x Improvement)**

#### **Batch Operations**
```javascript
// ‚úÖ BEST: Batch operations (1 second vs 70 seconds)
function efficientDataProcessing() {
  const sheet = SpreadsheetApp.getActiveSheet();
  const data = sheet.getDataRange().getValues();
  const processedData = data.map(row => row.map(cell => processTransformation(cell)));
  sheet.getDataRange().setValues(processedData);
}

// ‚ùå AVOID: Individual operations
function inefficientDataProcessing() {
  const sheet = SpreadsheetApp.getActiveSheet();
  for (let i = 1; i <= sheet.getLastRow(); i++) {
    const value = sheet.getRange(i, 1).getValue();
    sheet.getRange(i, 1).setValue(processTransformation(value));
  }
}
```

#### **Modern JavaScript (V8 Runtime)**
```javascript
// ‚úÖ V8 Features: const/let, destructuring, template literals
const { users, configs } = data;
const message = `Processing ${data.length} records`;

// ‚úÖ Error Handling with Exponential Backoff
function executeWithRetry(operation, maxRetries = 3) {
  let retryCount = 0;
  while (retryCount < maxRetries) {
    try {
      return operation();
    } catch (error) {
      retryCount++;
      console.warn(`Attempt ${retryCount} failed:`, error.message);
      if (retryCount >= maxRetries) throw error;
      Utilities.sleep(Math.pow(2, retryCount) * 1000);
    }
  }
}
```

### üõ°Ô∏è **V8 Runtime Critical Differences**

#### **Variable Declaration**
```javascript
// ‚úÖ RECOMMENDED: Use const/let, avoid var
const CONFIG_VALUES = { timeout: 5000, retries: 3 };
let processedValue = null;

// ‚ùå AVOID: var causes scope/hoisting issues
var globalVar = 'avoid this';
```

#### **Undefined Parameter Handling**
```javascript
// ‚úÖ V8-safe undefined checks
function safeFunction(param) {
  if (typeof param !== 'undefined' && param !== null) {
    return param.toString();
  }
  return 'default value';
}

// ‚úÖ Safe object access
const safeValue = (myObject || {}).propertyName;
const safeArrayValue = (myArray || [])[index];
```

#### **Template Literals with Validation**
ÂïèÈ°å„ÅØ„ÉÜ„É≥„Éó„É¨„Éº„Éà„É™„ÉÜ„É©„É´„Åß„ÅØ„Å™„Åè„ÄÅ**Â§âÊï∞„ÅÆÂÄ§„ÅåÂÆüË°åÊôÇ„Å´Â≠òÂú®„Åó„Å™„ÅÑÂèØËÉΩÊÄß**„Åß„Åô„ÄÇ`+`ÈÄ£Áµê„Å´Êõ∏„ÅçÊèõ„Åà„Å¶„ÇÇÊ†πÊú¨Ëß£Ê±∫„Å´„Å™„Çä„Åæ„Åõ„Çì„ÄÇÊ≠£„Åó„ÅÑ‰øÆÊ≠£„ÅØ**Â§âÊï∞„ÅÆÂ≠òÂú®„ÉÅ„Çß„ÉÉ„ÇØ**„Åß„Åô„ÄÇ

```javascript
// ‚ùå Ë™§„Å£„Åü‰øÆÊ≠£ÔºàÂØæÁóáÁôÇÊ≥ïÔºâ
const errorInfo = 'Error: ' + error.message; // error„Åånull„Å™„ÇâÂêå„Åò„Ç®„É©„Éº

// ‚úÖ Ê≠£„Åó„ÅÑ‰øÆÊ≠£ÔºàÊ†πÊú¨Ê≤ªÁôÇÔºâ
if (error && error.message) {
  const errorInfo = `Error: ${error.message}\nStack: ${error.stack || 'N/A'}`;
} else {
  const errorInfo = 'An unknown error occurred.';
}

// ‚úÖ Êé®Â•®„Éë„Çø„Éº„É≥Ôºö‰∫ãÂâç„ÉÅ„Çß„ÉÉ„ÇØÂæå„ÅÆ„ÉÜ„É≥„Éó„É¨„Éº„Éà„É™„ÉÜ„É©„É´‰ΩøÁî®
if (spreadsheetId && spreadsheetId.trim()) {
  const url = `https://docs.google.com/spreadsheets/d/${spreadsheetId}/edit`;
}
```

#### **Async/Sync Limitations**
```javascript
// ‚ùå NOT AVAILABLE: setTimeout/setInterval
// setTimeout(() => {}, 1000); // ReferenceError

// ‚úÖ ALTERNATIVE: Utilities.sleep (synchronous, blocks execution)
Utilities.sleep(1000);

// ‚úÖ RECOMMENDED: Batch processing for efficiency
function efficientProcessing(data) {
  const batchSize = 100;
  const results = [];
  for (let i = 0; i < data.length; i += batchSize) {
    const batch = data.slice(i, i + batchSize);
    results.push(...processBatch(batch));
  }
  return results;
}
```

## üìÅ File Structure

```
src/
‚îú‚îÄ‚îÄ main.gs                    # API Gateway (Zero-Dependency)
‚îú‚îÄ‚îÄ UserService.gs             # User management
‚îú‚îÄ‚îÄ ConfigService.gs           # Configuration management
‚îú‚îÄ‚îÄ DataService.gs             # Spreadsheet operations
‚îú‚îÄ‚îÄ SecurityService.gs         # Security & validation
‚îú‚îÄ‚îÄ DatabaseCore.gs            # Database operations
‚îú‚îÄ‚îÄ SystemController.gs        # System management
‚îú‚îÄ‚îÄ DataController.gs          # Data operations
‚îî‚îÄ‚îÄ *.html                     # UI templates
```

## üéØ Main API Functions

```javascript
// User Management
getCurrentEmail()              // Get current user email
getUser(infoType)             // Get user information
processLoginAction(action)     // Handle login

// Data Operations
addReaction(userId, rowId, type)     // Add reaction
toggleHighlight(userId, rowId)       // Toggle highlight
getBulkAdminPanelData()             // Admin data

// Configuration
getConfig()                   // Get configuration
getUserConfig(userId)         // Get user config
```

## üß™ Testing & Quality

### **Current Status**
- **113/113 tests passing** (100% success rate)
- **Zero ESLint errors**
- **Complete coverage** of critical paths

### **Quality Gate**
```bash
npm run check                 # MUST pass before any commit
npm run deploy:safe           # Safe deployment with validation
```

## üõ°Ô∏è Security & Anti-Patterns

### **Security Best Practices**
- **Input Validation**: All user inputs validated
- **XSS/CSRF Protection**: HTML sanitization, token-based validation
- **Access Control**: Role-based permissions
- **Service Account**: **CROSS-USER ACCESS ONLY** - Security-critical restrictions
  - ‚úÖ **Viewer‚ÜíEditor**: Accessing published board data and reactions
  - ‚úÖ **Editor‚ÜíAdmin**: Accessing shared user database (DATABASE_SPREADSHEET_ID)
  - ‚úÖ **Cross-tenant operations**: Any access across user boundaries
  - ‚ùå **Self-access**: User accessing own spreadsheets (use direct GAS APIs)
  - ‚ùå **Same-tenant**: Operations within user's own permissions scope

### **Anti-Patterns to Avoid**
```javascript
// ‚ùå AVOID: Individual API calls in loops (use batch operations)
// ‚ùå AVOID: Unnecessary service account usage
function getUserOwnData(email) {
  const auth = Auth.serviceAccount();        // ‚ùå Unnecessary privilege escalation
  return Data.findUserByEmail(email, auth); // ‚ùå User accessing own data
}

// ‚úÖ CORRECT: Appropriate permission usage
function getUserOwnData(email) {
  const dbId = PropertiesService.getScriptProperties().getProperty('DATABASE_SPREADSHEET_ID');
  const spreadsheet = SpreadsheetApp.openById(dbId); // ‚úÖ Normal user permissions
  return findUserInSheet(spreadsheet, email);
}

function getViewerCrossUserData(targetUserId, viewerEmail) {
  const targetUser = findUserById(targetUserId);
  if (targetUser.userEmail === viewerEmail) {
    return getUserOwnData(viewerEmail);        // ‚úÖ Own data: normal permissions
  } else {
    return getDataWithServiceAccount(targetUser); // ‚úÖ Cross-user: service account
  }
}

// ‚ùå AVOID: Synchronous UI blocking operations
// ‚ùå AVOID: typeof undefined checks (unnecessary in GAS)
```

## üìù Naming Conventions & Code Standards

### **üéØ Pragmatic Naming System**

**Core Principle**: Ëá™ÁÑ∂„ÅßË™≠„Åø„ÇÑ„Åô„ÅÑÈñ¢Êï∞Âêç„ÇíÂÑ™ÂÖà„Åó„ÄÅGAS-Native Architecture„ÅÆÂèØË™≠ÊÄß„Å®ÂÆüÁî®ÊÄß„ÇíÊúÄÂ§ßÂåñ

#### **Function Naming - Natural English Pattern**
```javascript
// ‚úÖ Êé®Â•®: Ëá™ÁÑ∂„Å™Ëã±Ë™ûË°®Áèæ„Éë„Çø„Éº„É≥
getCurrentEmail()        // Áõ¥ÊÑüÁöÑ„ÅßÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ
getUser()               // „Ç∑„É≥„Éó„É´„ÅßÊòéÁ¢∫
validateEmail()         // ÁõÆÁöÑ„ÅåÊòéÁ¢∫
createErrorResponse()   // Ëá™ÁÑ∂„Å™ÂãïË©û+ÂêçË©ûÊßãÈÄ†
isAdmin()              // Á∞°ÊΩî„Å™Áä∂ÊÖãÁ¢∫Ë™ç
checkUserAccess()      // ÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ„Ç¢„ÇØ„Ç∑„Éß„É≥

// ‚úÖ ÁâπÊÆäÊ©üËÉΩ„ÅÆ„Åø„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„Çπ‰ΩøÁî®
getUserSheetData()   // DataServiceÁâπÊúâ„ÅÆË§áÈõë„Å™„Éá„Éº„ÇøÂá¶ÁêÜ
addReaction()        // DataServiceÁâπÊúâ„ÅÆÊ©üËÉΩ
sysLog()              // „Ç∑„Çπ„ÉÜ„É†„É¨„Éô„É´„ÅÆÁµ±‰∏Ä„É≠„Ç∞Ê©üËÉΩ

// ‚ùå ÈÅø„Åë„Çã„Åπ„Åç: ‰∏çË¶Å„Å™„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„ÇπÂº∑Âà∂
authGetCurrentEmail()  // ‚Üí getCurrentEmail() „ÅÆÊñπ„ÅåËá™ÁÑ∂
configGetUserConfig()  // ‚Üí getUserConfig() „ÅÆÊñπ„ÅåË™≠„Åø„ÇÑ„Åô„ÅÑ
authIsAdministrator()  // ‚Üí isAdministrator() „ÅÆÊñπ„Åå„Ç∑„É≥„Éó„É´
```

#### **Variable & Property Naming**
```javascript
// ‚úÖ camelCase + ÊÑèÂë≥ÁöÑ„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„Çπ
const isPublished = Boolean(config.isPublished);    // ‚úÖ booleanÂÄ§: is/has/can
const isEditor = isAdministrator || isOwnBoard;     // ‚úÖ Áµ±‰∏Ä„Åï„Çå„ÅüÊ®©ÈôêË°®Áèæ
const hasValidForm = validateUrl(formUrl).isValid; // ‚úÖ Â≠òÂú®Á¢∫Ë™ç: has

// ‚úÖ „Ç™„Éñ„Ç∏„Çß„ÇØ„Éà„Éó„É≠„Éë„ÉÜ„Ç£„ÅÆÁµ±‰∏Ä
{
  isPublished: true,        // ‚úÖ appPublished ‚Üí isPublished
  isEditor: false,          // ‚úÖ showAdminFeatures ‚Üí isEditor
  spreadsheetId: 'abc123',  // ‚úÖ camelCaseÁµ±‰∏Ä
  sheetName: 'Sheet1'       // ‚úÖ Ê®ôÊ∫ñÂåñ„Åï„Çå„Åü„Éë„É©„É°„Éº„ÇøÂêç
}

// ‚ùå ÈùûÊé®Â•®„Éë„Çø„Éº„É≥
const appPublished = true;           // ‚ùå ÊõñÊòß„Å™ÂêçÂâç
const isAdminUser = false;          // ‚ùå ÈáçË§á„Åô„ÇãÊ¶ÇÂøµ
const showAdminFeatures = true;     // ‚ùå Ë°®Á§∫„É≠„Ç∏„ÉÉ„ÇØ„Å®Ê®©Èôê„ÅÆÊ∑∑Âú®
```

#### **Constants - System Standards**
```javascript
// ‚úÖ UPPER_SNAKE_CASE + „Ç´„ÉÜ„Ç¥„É™Âà•ÊßãÈÄ†
const CACHE_DURATION = {
  SHORT: 10,           // Ë™çË®º„É≠„ÉÉ„ÇØ
  MEDIUM: 30,          // „É™„Ç¢„ÇØ„Ç∑„Éß„É≥„Éª„Éè„Ç§„É©„Ç§„Éà
  LONG: 300,           // „É¶„Éº„Ç∂„ÉºÊÉÖÂ†±„Ç≠„É£„ÉÉ„Ç∑„É•
  EXTRA_LONG: 3600     // Ë®≠ÂÆö„Ç≠„É£„ÉÉ„Ç∑„É•
};

const TIMEOUT_MS = {
  QUICK: 100,          // UIÂøúÁ≠îÊÄß
  DEFAULT: 5000,       // „Éá„Éï„Ç©„É´„Éà„Çø„Ç§„É†„Ç¢„Ç¶„Éà
  EXTENDED: 30000      // Êã°Âºµ„Çø„Ç§„É†„Ç¢„Ç¶„Éà
};

// ‚úÖ ‰ΩøÁî®‰æã
cache.put(cacheKey, data, CACHE_DURATION.LONG);
Utilities.sleep(SLEEP_MS.SHORT);

// ‚ùå „Éû„Ç∏„ÉÉ„ÇØ„Éä„É≥„Éê„ÉºÔºàÈùûÊé®Â•®Ôºâ
cache.put(cacheKey, data, 300);     // ‚ùå ÊÑèÂë≥„Åå‰∏çÊòé
Utilities.sleep(100);               // ‚ùå „Å™„Åú100msÔºü
```

#### **Function Categories & Naming Patterns**
```javascript
// ‚úÖ „Ç´„ÉÜ„Ç¥„É™Âà•ÂëΩÂêç„Éë„Çø„Éº„É≥

// 1. „Éá„Éº„ÇøÂèñÂæó„ÉªÊìç‰Ωú
getCurrentEmail()       // get + ÂØæË±°Âêç
getUser()              // „Ç∑„É≥„Éó„É´„ÅßÊòéÁ¢∫
getUserConfig()        // ÂØæË±°„ÇíÊòéÁ¢∫„Å´
saveUserConfig()       // Âãï‰Ωú„ÇíÊòéÁ¢∫„Å´

// 2. Ê§úË®º„ÉªÁ¢∫Ë™ç
validateEmail()        // validate + ÂØæË±°
isAdmin()             // Áä∂ÊÖãÁ¢∫Ë™çÔºàbooleanËøîÂç¥Ôºâ
checkUserAccess()     // check + Á¢∫Ë™çÂÜÖÂÆπ

// 3. ‰ΩúÊàê„ÉªÁîüÊàê
createErrorResponse()  // create + ‰ΩúÊàêÂØæË±°
generateDynamicUrls()  // generate + ÁîüÊàêÂÜÖÂÆπ

// 4. Âá¶ÁêÜ„ÉªÂ§âÊèõ
processLoginAction()   // process + Âá¶ÁêÜÂØæË±°
handleGetData()       // handle + „Éè„É≥„Éâ„É´ÂØæË±°
formatTimestamp()     // format + Â§âÊèõÂØæË±°

// 5. ÁâπÊÆä„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„ÇπÔºàÂøÖË¶ÅÊôÇ„ÅÆ„ÅøÔºâ
getUserSheetData()  // Ë§áÈõë„Å™„Éá„Éº„ÇøÂá¶ÁêÜ
sysLog()             // „Ç∑„Çπ„ÉÜ„É†„É¨„Éô„É´Ê©üËÉΩ
```

#### **Parameter Naming Standards**
```javascript
// ‚úÖ Áµ±‰∏Ä„Åï„Çå„Åü„Éë„É©„É°„Éº„ÇøÂêç
function processUserData(userId, spreadsheetId, sheetName, options = {}) {
  // userId: Â∏∏„Å´camelCase„ÄÅ‰∏ÄÊÑèË≠òÂà•Â≠ê
  // spreadsheetId: Google Sheets IDÔºàÁµ±‰∏ÄÂΩ¢ÂºèÔºâ
  // sheetName: „Ç∑„Éº„ÉàÂêçÔºàcamelCaseÔºâ
  // options: „Ç™„Éó„Ç∑„Éß„É≥ÂºïÊï∞„ÅØÂ∏∏„Å´„Ç™„Éñ„Ç∏„Çß„ÇØ„Éà
}

// ‚úÖ ‰∏ÄË≤´ÊÄß„ÅÆ„ÅÇ„ÇãAPIË®≠Ë®à
getCurrentEmail()                           // Auth layer
getUserConfig(userId)                       // Config layer
getUserSheetData(userId, options)        // Data layer (ÁâπÊÆäÂá¶ÁêÜ)

// ‚ùå Èùû‰∏ÄË≤´ÁöÑ„Å™„Éë„É©„É°„Éº„ÇøÔºàÈùûÊé®Â•®Ôºâ
function badFunction(user_id, spreadsheet-id, sheet_name) { } // ‚ùå ÂëΩÂêçË¶èÂâáÊ∑∑Âú®
function anotherBad(userID, spreadSheetId, SheetName) { }     // ‚ùå Â§ßÊñáÂ≠óÂ∞èÊñáÂ≠ó‰∏çÁµ±‰∏Ä
```

### **üîß Implementation Guidelines**

#### **GAS-Native Pattern Compliance**
```javascript
// ‚úÖ GAS-Native: Direct API calls with natural global scope
function getCurrentEmail() {
  return Session.getActiveUser().getEmail();
}

function getUserConfig(userId) {
  const dbId = PropertiesService.getScriptProperties().getProperty('DATABASE_SPREADSHEET_ID');
  const spreadsheet = SpreadsheetApp.openById(dbId);
  // Direct SpreadsheetApp usage - no abstraction layers
}

// ‚úÖ Specialized functions with clear prefixes
function getUserSheetData(userId, options = {}) {
  // Complex data operations warrant specific naming
  // Clear functional responsibility
}

// ‚úÖ GAS-Native constants (no typeof checks needed)
const CACHE_DURATION = {
  SHORT: 10,
  MEDIUM: 30,
  LONG: 300
};

const TIMEOUT_MS = {
  QUICK: 100,
  DEFAULT: 5000,
  EXTENDED: 30000
};
```

#### **Naming Philosophy & Migration**
```javascript
// ‚úÖ CLAUDE.mdÊ∫ñÊã†ÔºöÂÆüÁî®ÊÄßÈáçË¶ñ„ÅÆ„Ç∑„É≥„Éó„É´ÂëΩÂêç
// Ëá™ÁÑ∂„Å™Ëã±Ë™û > Âº∑Âà∂ÁöÑ„Å™„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„Çπ
// Ë™≠„Åø„ÇÑ„Åô„Åï > Âé≥Ê†º„Å™ÂàÜÈ°û

// ‚úÖ ‰øùÊåÅ„Åô„Åπ„ÅçÈñ¢Êï∞Âêç„Éë„Çø„Éº„É≥
getCurrentEmail()         // Áõ¥ÊÑüÁöÑ
getUserConfig()          // ÊòéÁ¢∫
validateEmail()          // ÁõÆÁöÑ„ÅåÂàÜ„Åã„Çä„ÇÑ„Åô„ÅÑ
createErrorResponse()    // Ëá™ÁÑ∂„Å™ÂãïË©û+ÂêçË©û
isAdmin()               // „Ç∑„É≥„Éó„É´„Å™Áä∂ÊÖãÁ¢∫Ë™ç

// ‚úÖ ÂøÖË¶Å„Å™„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„ÇπÔºàÊ©üËÉΩÁöÑÁêÜÁî±Ôºâ
getUserSheetData()    // DataServiceÁâπÊúâ„ÅÆË§áÈõëÂá¶ÁêÜ
addReaction()         // DataServiceÁâπÊúâ„ÅÆÊ©üËÉΩ
sysLog()               // „Ç∑„Çπ„ÉÜ„É†„É¨„Éô„É´Áµ±‰∏ÄÊ©üËÉΩ

// ‚ùå ‰∏çË¶Å„Å™„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„ÇπÂº∑Âà∂„ÅØÈÅø„Åë„Çã
// Ë™≠„Åø„ÇÑ„Åô„Åï„ÇíÊêç„Å™„ÅÜ„Éó„É¨„Éï„Ç£„ÉÉ„ÇØ„Çπ„ÅØ‰ΩøÁî®„Åó„Å™„ÅÑ
```

### **üìä Benefits of Pragmatic Naming**

- **üéØ Natural Readability**: Ëá™ÁÑ∂„Å™Ëã±Ë™ûË°®Áèæ„ÅßÁõ¥ÊÑüÁöÑ„Å´ÁêÜËß£ÂèØËÉΩ
- **‚ö° Development Speed**: „Ç∑„É≥„Éó„É´„Å™Èñ¢Êï∞Âêç„ÅßÈñãÁô∫ÂäπÁéáÂêë‰∏ä
- **üìñ Self-Documenting Code**: Ê©üËÉΩ„ÅåÂêçÂâç„Åã„ÇâÂç≥Â∫ß„Å´ÁêÜËß£„Åß„Åç„Çã
- **üõ†Ô∏è Maintenance Efficiency**: Ë™≠„Åø„ÇÑ„Åô„ÅÑÈñ¢Êï∞Âêç„Åß‰øùÂÆàÊÄßÂêë‰∏ä
- **üîÑ Zero-Dependency Compliance**: „Éï„Ç°„Ç§„É´Ë™≠„ÅøËæº„ÅøÈ†ÜÂ∫è„Å´‰æùÂ≠ò„Åó„Å™„ÅÑË®≠Ë®à
- **üé® Code Aesthetics**: Áæé„Åó„ÅèË™≠„Åø„ÇÑ„Åô„ÅÑ„Ç≥„Éº„Éâ„Éô„Éº„ÇπÂÆüÁèæ

## üìã Important Application Notes

### **Web App Entry Flow**
```
/exec access ‚Üí AccessRestricted (safe landing)
            ‚Üí (explicit) ?mode=login ‚Üí Setup ‚Üí Admin Panel
            ‚Üí (viewer)  ?mode=view&userId=... ‚Üí Public Board View
```

**Policy**: `/exec`„ÅÆ„Éá„Éï„Ç©„É´„Éà„ÅØ„É≠„Ç∞„Ç§„É≥„Éö„Éº„Ç∏„Åß„ÅØ„Å™„Åè„ÄÅÂÆâÂÖ®„Å™ÁùÄÂú∞ÁÇπÔºàAccessRestrictedÔºâ„ÇíË°®Á§∫„ÄÇ„Åì„Çå„ÅØÈñ≤Ë¶ß„É¶„Éº„Ç∂„Éº„Åå‰∏çÁî®ÊÑè„Å´„Ç¢„Ç´„Ç¶„É≥„ÉàÁîüÊàê„Åô„Çã„Åì„Å®„ÇíÈò≤„ÅêÂÆâÂÖ®Á≠ñ„ÄÇ

### **API Compatibility Guidance**
- „Éï„É≠„É≥„Éà„Ç®„É≥„Éâ„ÅØÊó¢Â≠òAPIÂêç„Å´Âêà„Çè„Åõ„ÇãÔºà‰æã: `isAdmin`„ÄÅ`getSheets`Ôºâ
- „É™„Ç¢„ÇØ„Ç∑„Éß„É≥Á≥ª„ÅØDataService„ÅÆÂÖ¨ÈñãÈñ¢Êï∞„ÇíÁõ¥Êé•Âà©Áî®Ôºà`addReaction`, `toggleHighlight`Ôºâ
- Êñ∞„Åü„Å™‰∏≠ÈñìAPIÔºàGateway„É©„ÉÉ„ÉëÔºâ„ÅØÂéüÂâáËøΩÂä†„Åó„Å™„ÅÑ

### **OAuth Scopes Policy**
- ÂøÖË¶ÅÊúÄÂ∞èÈôê„ÅÆ„Çπ„Ç≥„Éº„Éó„ÅÆ„ÅøÊé°Áî®
- Êó¢ÂÆö: `spreadsheets`, `drive`, `script.external_request`, `userinfo.email`
- Êú™‰ΩøÁî®„ÅÆAdvanced Services„ÅØÁÑ°ÂäπÂåñ

## üèÜ Architecture Benefits

- **70x Performance Improvement**: Batch operations (1s vs 70s)
- **Zero Dependencies**: Direct GAS API calls for maximum reliability
- **Loading Order Independence**: No file dependency chains
- **100% Test Coverage**: 113/113 tests passing
- **Production Stability**: Enterprise-grade error handling

---

*ü§ñ Claude Code 2025 Best Practices Compliant*
*üìà Optimized for Google Apps Script Performance and Reliability*
*‚ö° Zero-Dependency Architecture Pattern*