# 🧪 UXフロー統合テスト計画

## 概要
新しく実装されたUX改善項目の包括的なテスト計画です。

## テスト対象の新機能

### 1. データ透明性セクション
- [x] 実装完了
- [ ] テスト対象項目：
  - データ透明性情報の表示
  - サービスアカウント説明の正確性
  - セキュリティ情報モーダルの動作

### 2. 分離されたSave/Publishフロー
- [x] 実装完了
- [ ] テスト対象項目：
  - 「下書き保存」ボタンの動作
  - 「公開する」ボタンの動作
  - 公開確認モーダルの表示・動作
  - トースト通知の表示・タイミング

### 3. 自動非公開ツールチップ
- [x] 実装完了
- [ ] テスト対象項目：
  - 公開ボタンのツールチップ表示
  - 公開ステータスのツールチップ表示
  - ツールチップの位置・デザイン

## 🧾 詳細テストケース

### A. データ透明性セクション
**テスト手順:**
1. 管理パネルにアクセス
2. データ透明性セクションが表示されることを確認
3. 「セキュリティについて詳しく」リンクをクリック
4. セキュリティモーダルが正しく表示されることを確認
5. モーダル内容がユーザーフレンドリーで理解しやすいことを確認

**期待結果:**
- データ透明性セクションが適切に表示される
- セキュリティ情報が分かりやすく説明されている
- サービスアカウントの説明が技術的でなく教育者向けになっている

### B. 下書き保存機能
**テスト手順:**
1. シートを選択
2. 列設定を行う
3. 「下書き保存」ボタンをクリック
4. 成功トーストが表示されることを確認
5. 設定が保存されたことを確認（ページリロード後も設定が残る）

**期待結果:**
- 設定が正常に保存される
- 適切なトースト通知が表示される
- ボタンの状態変化（「保存中...」→「下書き保存」）が確認できる

### C. 公開確認フロー
**テスト手順:**
1. シートを選択し列設定を完了
2. 「公開する」ボタンをクリック
3. 公開確認モーダルが表示されることを確認
4. モーダル内容が適切であることを確認
5. 「公開する」で確定、「キャンセル」で取消しをテスト
6. 公開成功時のトースト通知を確認

**期待結果:**
- 公開確認モーダルが適切に表示される
- 6時間自動非公開の説明が分かりやすい
- キャンセル・確定動作が正常
- 公開成功の明確なフィードバック

### D. ツールチップ機能
**テスト手順:**
1. 公開ボタンの「?」マークにホバー
2. ツールチップが表示されることを確認
3. ボードが公開中の状態で「公開中:」にホバー
4. 公開ステータスツールチップが表示されることを確認
5. ツールチップの内容と位置を確認

**期待結果:**
- ホバー時にツールチップが適切に表示される
- ツールチップの位置が要素を隠さない
- 内容が分かりやすく有用な情報を提供している

### E. トースト通知システム
**テスト手順:**
1. 各操作（下書き保存、公開、エラー）でトーストをテスト
2. トーストのアニメーション動作を確認
3. 複数トーストの同時表示をテスト
4. 手動クローズボタンの動作を確認
5. 自動消去タイミングを確認

**期待結果:**
- トーストが適切にアニメーション表示される
- 異なるタイプ（成功、エラー、警告）が色分けされている
- 複数トーストが重複せずに表示される
- ユーザビリティが向上している

## 🎯 統合シナリオテスト

### シナリオ1: 初回利用者の完全フロー
1. 新規ユーザーとしてアクセス
2. データ透明性情報を確認
3. スプレッドシート/フォームを作成
4. 設定を下書き保存
5. 設定を確認後、公開確認モーダルで公開
6. 公開成功を確認

### シナリオ2: 既存ユーザーの設定変更フロー
1. 既存設定でアクセス
2. 列設定を変更
3. 下書き保存で設定を更新
4. 即座に公開せず後で公開する
5. 公開ステータスツールチップで状態確認

### シナリオ3: エラーハンドリング
1. 不正な設定で下書き保存を試行
2. エラートーストの表示を確認
3. 設定修正後の正常動作を確認

## ✅ テスト完了基準

- [ ] 全テストケースがパス
- [ ] ツールチップが全て適切に表示される
- [ ] トースト通知が期待通り動作する
- [ ] 公開確認フローが直感的
- [ ] エラーハンドリングが適切
- [ ] レスポンシブデザインが各デバイスで機能する
- [ ] アクセシビリティ要件を満たしている

## 🐛 既知の課題
- AdminPanel.html:4640でボタンのアクセシビリティ警告（要対応）

## 📝 テスト実行ログ
テスト実行時にここに結果を記録してください。

---
**作成日:** 2025年7月  
**テスト責任者:** 開発チーム  
**想定テスト期間:** 2-3時間  