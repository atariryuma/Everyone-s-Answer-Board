{
  "timestamp": "2025-09-15T00:52:25.377Z",
  "config": {
    "sourceDir": "/Users/ryuma/Everyone-s-Answer-Board/src",
    "extensions": [
      ".gs"
    ],
    "ignorePatterns": [
      {},
      {},
      {}
    ],
    "minFunctionBodyLines": 3
  },
  "results": {
    "exactDuplicates": [],
    "similarFunctions": [],
    "nameConflicts": [
      {
        "name": "getUserConfig",
        "functions": [
          {
            "name": "getUserConfig",
            "signature": "function getUserConfig(userId)",
            "body": "// ğŸš€ Zero-dependency initialization\n  if (!initConfigServiceZero()) {\n    console.error('getUserConfig: ServiceFactory not available');\n    return getDefaultConfig(userId);\n  }\n\n  if (!userId || !validateConfigUserId(userId)) {\n    console.warn('getUserConfig: ç„¡åŠ¹ãªuserID - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´:', userId);\n    return getDefaultConfig(userId);\n  }\n\n  const cacheKey = `config_${userId}`;\n\n  try {\n    // ğŸ”§ ServiceFactoryçµŒç”±ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥å–å¾—\n    const cache = ServiceFactory.getCache();\n    const cached = cache.get(cacheKey);\n    if (cached) {\n      return cached;\n    }\n\n    // ğŸ”§ ServiceFactoryçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å–å¾—\n    const db = ServiceFactory.getDB();\n    if (!db) {\n      console.error('getUserConfig: Database not available');\n      return getDefaultConfig(userId);\n    }\n\n    const user = db.findUserById(userId);\n    if (!user) {\n      console.warn('getUserConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“:', userId);\n      return getDefaultConfig(userId);\n    }\n\n    // configJsonãƒ‘ãƒ¼ã‚¹ãƒ»ä¿®å¾©\n    const baseConfig = parseAndRepairConfig(user.configJson, userId);\n\n    // å‹•çš„URLç”Ÿæˆ\n    const enhancedConfig = enhanceConfigWithDynamicUrls(baseConfig, userId);\n\n    // ğŸ”§ ServiceFactoryçµŒç”±ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜ï¼ˆ10åˆ†é–“ï¼‰\n    cache.put(cacheKey, enhancedConfig, 600);\n\n    return enhancedConfig;\n  } catch (error) {\n    console.error('getUserConfig: ã‚¨ãƒ©ãƒ¼', {\n      userId,\n      error: error.message\n    });\n    return getDefaultConfig(userId);\n  }\n}",
            "file": "ConfigService.gs",
            "lineNumber": 54,
            "endLineNumber": 106,
            "hash": "1596499867",
            "normalizedBody": "// ğŸš€ Zero-dependency initialization if (!initConfigServiceZero()){console.error('getUserConfig: ServiceFactory not available');return getDefaultConfig(userId);}if (!userId || !validateConfigUserId(userId)){console.warn('getUserConfig: ç„¡åŠ¹ãªuserID - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´:',userId);return getDefaultConfig(userId);}const cacheKey = `config_${userId}`;try{// ğŸ”§ ServiceFactoryçµŒç”±ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥å–å¾— const cache = ServiceFactory.getCache();const cached = cache.get(cacheKey);if (cached){return cached;}// ğŸ”§ ServiceFactoryçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å–å¾— const db = ServiceFactory.getDB();if (!db){console.error('getUserConfig: Database not available');return getDefaultConfig(userId);}const user = db.findUserById(userId);if (!user){console.warn('getUserConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“:',userId);return getDefaultConfig(userId);}// configJsonãƒ‘ãƒ¼ã‚¹ãƒ»ä¿®å¾© const baseConfig = parseAndRepairConfig(user.configJson,userId);// å‹•çš„URLç”Ÿæˆ const enhancedConfig = enhanceConfigWithDynamicUrls(baseConfig,userId);// ğŸ”§ ServiceFactoryçµŒç”±ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ä¿å­˜ï¼ˆ10åˆ†é–“ï¼‰ cache.put(cacheKey,enhancedConfig,600);return enhancedConfig;}catch (error){console.error('getUserConfig: ã‚¨ãƒ©ãƒ¼',{userId,error: error.message});return getDefaultConfig(userId);}}"
          },
          {
            "name": "getUserConfig",
            "signature": "function getUserConfig(userId)",
            "body": "console.log('getUserConfig: é–¢æ•°é–‹å§‹', { userId });\n  try {\n    // userIdãŒç„¡åŠ¹ãªå ´åˆã€ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å–å¾—ã‚’è©¦è¡Œ\n    if (!userId) {\n      const userEmail = getCurrentEmailDirect();\n      if (userEmail) {\n        // ğŸ¯ Zero-dependency: ç›´æ¥DBã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—\n        const user = DB.findUserByEmail(userEmail);\n        if (user && user.userId) {\n          ({userId} = user);\n          console.info('getUserConfig: userIdã‚’ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å–å¾—:', userId);\n        } else {\n          console.warn('getUserConfig: userIdãŒå–å¾—ã§ããªã„ - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´');\n          return getBasicDefaultConfig();\n        }\n      } else {\n        console.warn('getUserConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¼ãƒ«å–å¾—å¤±æ•— - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´');\n        return getBasicDefaultConfig();\n      }\n    }\n\n    // ğŸ¯ Zero-dependency: ç›´æ¥DBã‹ã‚‰è¨­å®šå–å¾—\n    const user = DB.findUserById(userId);\n    if (user && user.configJson) {\n      try {\n        const config = JSON.parse(user.configJson);\n        console.log('getUserConfig: è¨­å®šå–å¾—æˆåŠŸ:', { userId, hasConfig: !!config });\n        return {\n          success: true,\n          config,\n          spreadsheetId: config.spreadsheetId || null,\n          sheetName: config.sheetName || null\n        };\n      } catch (parseError) {\n        console.error('getUserConfig: JSONè§£æã‚¨ãƒ©ãƒ¼:', parseError);\n        return getBasicDefaultConfig();\n      }\n    } else {\n      console.warn('getUserConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãªã— - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´');\n      return getBasicDefaultConfig();\n    }\n  } catch (error) {\n    console.error('getUserConfig error:', error.message);\n    return getBasicDefaultConfig();\n  }\n}",
            "file": "main.gs",
            "lineNumber": 882,
            "endLineNumber": 928,
            "hash": "208500276",
            "normalizedBody": "console.log('getUserConfig: é–¢æ•°é–‹å§‹',{userId});try{// userIdãŒç„¡åŠ¹ãªå ´åˆã€ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å–å¾—ã‚’è©¦è¡Œ if (!userId){const userEmail = getCurrentEmailDirect();if (userEmail){// ğŸ¯ Zero-dependency: ç›´æ¥DBã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾— const user = DB.findUserByEmail(userEmail);if (user && user.userId){({userId}= user);console.info('getUserConfig: userIdã‚’ç¾åœ¨ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‹ã‚‰å–å¾—:',userId);}else{console.warn('getUserConfig: userIdãŒå–å¾—ã§ããªã„ - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´');return getBasicDefaultConfig();}}else{console.warn('getUserConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ¡ãƒ¼ãƒ«å–å¾—å¤±æ•— - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´');return getBasicDefaultConfig();}}// ğŸ¯ Zero-dependency: ç›´æ¥DBã‹ã‚‰è¨­å®šå–å¾— const user = DB.findUserById(userId);if (user && user.configJson){try{const config = JSON.parse(user.configJson);console.log('getUserConfig: è¨­å®šå–å¾—æˆåŠŸ:',{userId,hasConfig: !!config});return{success: true,config,spreadsheetId: config.spreadsheetId || null,sheetName: config.sheetName || null};}catch (parseError){console.error('getUserConfig: JSONè§£æã‚¨ãƒ©ãƒ¼:',parseError);return getBasicDefaultConfig();}}else{console.warn('getUserConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãªã— - ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆè¨­å®šã‚’è¿”å´');return getBasicDefaultConfig();}}catch (error){console.error('getUserConfig error:',error.message);return getBasicDefaultConfig();}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "saveDraftConfiguration",
        "functions": [
          {
            "name": "saveDraftConfiguration",
            "signature": "function saveDraftConfiguration(config)",
            "body": "try {\n    if (!config || typeof config !== 'object') {\n      throw new Error('ç„¡åŠ¹ãªè¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ');\n    }\n\n    const userId = ServiceFactory.getSession().email;\n    if (!userId) {\n      throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ');\n    }\n\n    // ãƒ‰ãƒ©ãƒ•ãƒˆã¨ã—ã¦ãƒãƒ¼ã‚¯\n    const draftConfig = {\n      ...config,\n      isDraft: true,\n      draftSavedAt: new Date().toISOString(),\n      setupStatus: 'draft'\n    };\n\n    return saveUserConfig(userId, draftConfig);\n\n  } catch (error) {\n    console.error('saveDraftConfiguration: ã‚¨ãƒ©ãƒ¼', error.message);\n    return {\n      success: false,\n      message: 'ãƒ‰ãƒ©ãƒ•ãƒˆä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ',\n      error: error.message\n    };\n  }\n}",
            "file": "ConfigService.gs",
            "lineNumber": 708,
            "endLineNumber": 737,
            "hash": "2029080865",
            "normalizedBody": "try{if (!config || typeof config !== 'object'){throw new Error('ç„¡åŠ¹ãªè¨­å®šã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ');}const userId = ServiceFactory.getSession().email;if (!userId){throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ');}// ãƒ‰ãƒ©ãƒ•ãƒˆã¨ã—ã¦ãƒãƒ¼ã‚¯ const draftConfig ={...config,isDraft: true,draftSavedAt: new Date().toISOString(),setupStatus: 'draft'};return saveUserConfig(userId,draftConfig);}catch (error){console.error('saveDraftConfiguration: ã‚¨ãƒ©ãƒ¼',error.message);return{success: false,message: 'ãƒ‰ãƒ©ãƒ•ãƒˆä¿å­˜ã«å¤±æ•—ã—ã¾ã—ãŸ',error: error.message};}}"
          },
          {
            "name": "saveDraftConfiguration",
            "signature": "function saveDraftConfiguration(config)",
            "body": "try {\n    // ğŸ¯ Zero-dependency: ç›´æ¥DBã§è¨­å®šä¿å­˜\n    const userEmail = getCurrentEmailDirectSC();\n    if (!userEmail) {\n      return { success: false, message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãŒå¿…è¦ã§ã™' };\n    }\n\n    const user = DB.findUserByEmail(userEmail);\n    if (!user) {\n      return { success: false, message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' };\n    }\n\n    // è¨­å®šã‚’JSONã§ä¿å­˜\n    const updatedUser = {\n      ...user,\n      configJson: JSON.stringify(config),\n      updatedAt: new Date().toISOString()\n    };\n\n    DB.updateUser(user.userId, updatedUser);\n\n    return {\n      success: true,\n      message: 'ä¸‹æ›¸ãè¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ',\n      userId: user.userId\n    };\n  } catch (error) {\n    console.error('saveDraftConfiguration error:', error);\n    return { success: false, message: error.message };\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 696,
            "endLineNumber": 727,
            "hash": "-2092985338",
            "normalizedBody": "try{// ğŸ¯ Zero-dependency: ç›´æ¥DBã§è¨­å®šä¿å­˜ const userEmail = getCurrentEmailDirectSC();if (!userEmail){return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãŒå¿…è¦ã§ã™'};}const user = DB.findUserByEmail(userEmail);if (!user){return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'};}// è¨­å®šã‚’JSONã§ä¿å­˜ const updatedUser ={...user,configJson: JSON.stringify(config),updatedAt: new Date().toISOString()};DB.updateUser(user.userId,updatedUser);return{success: true,message: 'ä¸‹æ›¸ãè¨­å®šã‚’ä¿å­˜ã—ã¾ã—ãŸ',userId: user.userId};}catch (error){console.error('saveDraftConfiguration error:',error);return{success: false,message: error.message};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "publishApplication",
        "functions": [
          {
            "name": "publishApplication",
            "signature": "function publishApplication(publishConfig)",
            "body": "try {\n    const userId = ServiceFactory.getSession().email;\n    if (!userId) {\n      throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ');\n    }\n\n    // ç¾åœ¨ã®è¨­å®šå–å¾—\n    const currentConfig = getUserConfig(userId);\n    if (!currentConfig) {\n      throw new Error('ç¾åœ¨ã®è¨­å®šã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ');\n    }\n\n    // å…¬é–‹ç”¨è¨­å®šä½œæˆ\n    const finalConfig = {\n      ...currentConfig,\n      ...publishConfig,\n      appPublished: true,\n      publishedAt: new Date().toISOString(),\n      setupStatus: 'completed',\n      isDraft: false\n    };\n\n    // æœ€çµ‚æ¤œè¨¼\n    const validation = validateAndSanitizeConfig(finalConfig, userId);\n    if (!validation.success) {\n      throw new Error(`è¨­å®šæ¤œè¨¼ã‚¨ãƒ©ãƒ¼: ${validation.errors.join(', ')}`);\n    }\n\n    // å…¬é–‹å®Ÿè¡Œ\n    const result = saveUserConfig(userId, validation.data);\n\n    if (result.success) {\n      console.info('publishApplication: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¬é–‹å®Œäº†', {\n        userId,\n        publishedAt: finalConfig.publishedAt\n      });\n\n      return {\n        success: true,\n        message: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å…¬é–‹ã—ã¾ã—ãŸ',\n        data: result.data,\n        publishedAt: finalConfig.publishedAt\n      };\n    } else {\n      throw new Error(result.message);\n    }\n\n  } catch (error) {\n    console.error('publishApplication: ã‚¨ãƒ©ãƒ¼', error.message);\n    return {\n      success: false,\n      message: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¬é–‹ã«å¤±æ•—ã—ã¾ã—ãŸ',\n      error: error.message\n    };\n  }\n}",
            "file": "ConfigService.gs",
            "lineNumber": 744,
            "endLineNumber": 800,
            "hash": "719696448",
            "normalizedBody": "try{const userId = ServiceFactory.getSession().email;if (!userId){throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ');}// ç¾åœ¨ã®è¨­å®šå–å¾— const currentConfig = getUserConfig(userId);if (!currentConfig){throw new Error('ç¾åœ¨ã®è¨­å®šã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ');}// å…¬é–‹ç”¨è¨­å®šä½œæˆ const finalConfig ={...currentConfig,...publishConfig,appPublished: true,publishedAt: new Date().toISOString(),setupStatus: 'completed',isDraft: false};// æœ€çµ‚æ¤œè¨¼ const validation = validateAndSanitizeConfig(finalConfig,userId);if (!validation.success){throw new Error(`è¨­å®šæ¤œè¨¼ã‚¨ãƒ©ãƒ¼: ${validation.errors.join(',')}`);}// å…¬é–‹å®Ÿè¡Œ const result = saveUserConfig(userId,validation.data);if (result.success){console.info('publishApplication: ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¬é–‹å®Œäº†',{userId,publishedAt: finalConfig.publishedAt});return{success: true,message: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã‚’å…¬é–‹ã—ã¾ã—ãŸ',data: result.data,publishedAt: finalConfig.publishedAt};}else{throw new Error(result.message);}}catch (error){console.error('publishApplication: ã‚¨ãƒ©ãƒ¼',error.message);return{success: false,message: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³å…¬é–‹ã«å¤±æ•—ã—ã¾ã—ãŸ',error: error.message};}}"
          },
          {
            "name": "publishApplication",
            "signature": "function publishApplication(publishConfig)",
            "body": "try {\n    // ğŸ¯ Zero-dependency: ç›´æ¥PropertiesServiceã§ã‚¢ãƒ—ãƒªå…¬é–‹\n    const props = PropertiesService.getScriptProperties();\n\n    // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«å¤‰æ›´\n    props.setProperty('APPLICATION_STATUS', 'active');\n    props.setProperty('PUBLISHED_AT', new Date().toISOString());\n\n    // å…¬é–‹è¨­å®šã‚’ä¿å­˜\n    if (publishConfig) {\n      props.setProperty('PUBLISH_CONFIG', JSON.stringify(publishConfig));\n    }\n\n    return {\n      success: true,\n      message: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å…¬é–‹ã•ã‚Œã¾ã—ãŸ',\n      publishedAt: new Date().toISOString()\n    };\n  } catch (error) {\n    console.error('publishApplication error:', error);\n    return { success: false, message: error.message };\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 734,
            "endLineNumber": 757,
            "hash": "-536932542",
            "normalizedBody": "try{// ğŸ¯ Zero-dependency: ç›´æ¥PropertiesServiceã§ã‚¢ãƒ—ãƒªå…¬é–‹ const props = PropertiesService.getScriptProperties();// ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³çŠ¶æ…‹ã‚’ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã«å¤‰æ›´ props.setProperty('APPLICATION_STATUS','active');props.setProperty('PUBLISHED_AT',new Date().toISOString());// å…¬é–‹è¨­å®šã‚’ä¿å­˜ if (publishConfig){props.setProperty('PUBLISH_CONFIG',JSON.stringify(publishConfig));}return{success: true,message: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒæ­£å¸¸ã«å…¬é–‹ã•ã‚Œã¾ã—ãŸ',publishedAt: new Date().toISOString()};}catch (error){console.error('publishApplication error:',error);return{success: false,message: error.message};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "getPublishedSheetData",
        "functions": [
          {
            "name": "getPublishedSheetData",
            "signature": "function getPublishedSheetData(userId, options = {})",
            "body": "try {\n    if (!userId) {\n      return {\n        success: false,\n        message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“'\n      };\n    }\n\n    // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯: å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‹ã®ç¢ºèª\n    const config = ConfigService.getUserConfig(userId);\n    if (!config || !config.appPublished) {\n      return {\n        success: false,\n        message: 'ã“ã®ãƒ‡ãƒ¼ã‚¿ã¯å…¬é–‹ã•ã‚Œã¦ã„ã¾ã›ã‚“'\n      };\n    }\n\n    const data = DataService.getSheetData(userId, options);\n    return {\n      success: true,\n      data,\n      isPublic: true\n    };\n\n  } catch (error) {\n    console.error('DataController.getPublishedSheetData ã‚¨ãƒ©ãƒ¼:', error.message);\n    return {\n      success: false,\n      message: error.message\n    };\n  }\n}",
            "file": "DataController.gs",
            "lineNumber": 206,
            "endLineNumber": 238,
            "hash": "-232010616",
            "normalizedBody": "try{if (!userId){return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼IDãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“'};}// ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒã‚§ãƒƒã‚¯: å…¬é–‹ã•ã‚Œã¦ã„ã‚‹ã‹ã®ç¢ºèª const config = ConfigService.getUserConfig(userId);if (!config || !config.appPublished){return{success: false,message: 'ã“ã®ãƒ‡ãƒ¼ã‚¿ã¯å…¬é–‹ã•ã‚Œã¦ã„ã¾ã›ã‚“'};}const data = DataService.getSheetData(userId,options);return{success: true,data,isPublic: true};}catch (error){console.error('DataController.getPublishedSheetData ã‚¨ãƒ©ãƒ¼:',error.message);return{success: false,message: error.message};}}"
          },
          {
            "name": "getPublishedSheetData",
            "signature": "function getPublishedSheetData(userId, options = {})",
            "body": "try {\n    // âœ… GAS Best Practice: ç›´æ¥é–¢æ•°å‘¼ã³å‡ºã—\n    return getSheetData(userId, options);\n  } catch (error) {\n    console.error('getPublishedSheetData error:', error);\n    // âœ… GASå…¬å¼æ¨å¥¨: ã‚·ãƒ³ãƒ—ãƒ«ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹\n    return { data: [], headers: [], sheetName: '', error: error.message || 'å…¬é–‹ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼' };\n  }\n}",
            "file": "DataService.gs",
            "lineNumber": 115,
            "endLineNumber": 124,
            "hash": "1301324418",
            "normalizedBody": "try{// âœ… GAS Best Practice: ç›´æ¥é–¢æ•°å‘¼ã³å‡ºã— return getSheetData(userId,options);}catch (error){console.error('getPublishedSheetData error:',error);// âœ… GASå…¬å¼æ¨å¥¨: ã‚·ãƒ³ãƒ—ãƒ«ã‚¨ãƒ©ãƒ¼ãƒ¬ã‚¹ãƒãƒ³ã‚¹ return{data: [],headers: [],sheetName: '',error: error.message || 'å…¬é–‹ãƒ‡ãƒ¼ã‚¿å–å¾—ã‚¨ãƒ©ãƒ¼'};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "addSpreadsheetUrl",
        "functions": [
          {
            "name": "addSpreadsheetUrl",
            "signature": "function addSpreadsheetUrl(url)",
            "body": "try {\n    if (!url) {\n      return {\n        success: false,\n        message: 'URLãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“'\n      };\n    }\n\n    // URLå½¢å¼ã®ç°¡æ˜“æ¤œè¨¼\n    if (!url.includes('docs.google.com/spreadsheets')) {\n      return {\n        success: false,\n        message: 'Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æœ‰åŠ¹ãªURLã§ã¯ã‚ã‚Šã¾ã›ã‚“'\n      };\n    }\n\n    // ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã‚’æŠ½å‡º\n    const match = url.match(/\\/spreadsheets\\/d\\/([a-zA-Z0-9-_]+)/);\n    if (!match) {\n      return {\n        success: false,\n        message: 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDãŒå–å¾—ã§ãã¾ã›ã‚“'\n      };\n    }\n\n    const [, spreadsheetId] = match;\n\n    // ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ\n    try {\n      const spreadsheet = SpreadsheetApp.openById(spreadsheetId);\n      const name = spreadsheet.getName();\n\n      return {\n        success: true,\n        message: 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ç¢ºèªã—ã¾ã—ãŸ',\n        spreadsheet: {\n          id: spreadsheetId,\n          name,\n          url\n        }\n      };\n    } catch (accessError) {\n      return {\n        success: false,\n        message: `ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“: ${accessError.message}`\n      };\n    }\n\n  } catch (error) {\n    console.error('DataController.addSpreadsheetUrl ã‚¨ãƒ©ãƒ¼:', error.message);\n    return {\n      success: false,\n      message: error.message\n    };\n  }\n}",
            "file": "DataController.gs",
            "lineNumber": 416,
            "endLineNumber": 472,
            "hash": "1084312892",
            "normalizedBody": "try{if (!url){return{success: false,message: 'URLãŒæŒ‡å®šã•ã‚Œã¦ã„ã¾ã›ã‚“'};}// URLå½¢å¼ã®ç°¡æ˜“æ¤œè¨¼ if (!url.includes('docs.google.com/spreadsheets')){return{success: false,message: 'Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã®æœ‰åŠ¹ãªURLã§ã¯ã‚ã‚Šã¾ã›ã‚“'};}// ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDã‚’æŠ½å‡º const match = url.match(/\\/spreadsheets\\/d\\/([a-zA-Z0-9-_]+)/);if (!match){return{success: false,message: 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDãŒå–å¾—ã§ãã¾ã›ã‚“'};}const [,spreadsheetId] = match;// ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ try{const spreadsheet = SpreadsheetApp.openById(spreadsheetId);const name = spreadsheet.getName();return{success: true,message: 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ç¢ºèªã—ã¾ã—ãŸ',spreadsheet:{id: spreadsheetId,name,url}};}catch (accessError){return{success: false,message: `ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“: ${accessError.message}`};}}catch (error){console.error('DataController.addSpreadsheetUrl ã‚¨ãƒ©ãƒ¼:',error.message);return{success: false,message: error.message};}}"
          },
          {
            "name": "addSpreadsheetUrl",
            "signature": "function addSpreadsheetUrl(url)",
            "body": "try {\n    // DataControllerã«å§”è­²\n    const service = getAvailableService('DataService');\n    if (service && typeof service.addSpreadsheetUrl === 'function') {\n      return service.addSpreadsheetUrl(url);\n    }\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£…\n    return {\n      success: false,\n      message: 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¿½åŠ æ©Ÿèƒ½ã¯ç¾åœ¨åˆ©ç”¨ã§ãã¾ã›ã‚“'\n    };\n  } catch (error) {\n    console.error('addSpreadsheetUrl error:', error.message);\n    return {\n      success: false,\n      message: `ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¿½åŠ ã‚¨ãƒ©ãƒ¼: ${error.message}`\n    };\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1488,
            "endLineNumber": 1508,
            "hash": "957524206",
            "normalizedBody": "try{// DataControllerã«å§”è­² const service = getAvailableService('DataService');if (service && typeof service.addSpreadsheetUrl === 'function'){return service.addSpreadsheetUrl(url);}// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯å®Ÿè£… return{success: false,message: 'ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¿½åŠ æ©Ÿèƒ½ã¯ç¾åœ¨åˆ©ç”¨ã§ãã¾ã›ã‚“'};}catch (error){console.error('addSpreadsheetUrl error:',error.message);return{success: false,message: `ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¿½åŠ ã‚¨ãƒ©ãƒ¼: ${error.message}`};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "addDataReaction",
        "functions": [
          {
            "name": "addDataReaction",
            "signature": "function addDataReaction(userId, rowId, reactionType)",
            "body": "return handleAddReaction({\n    userId,\n    rowId,\n    reactionType\n  });\n}",
            "file": "DataController.gs",
            "lineNumber": 481,
            "endLineNumber": 487,
            "hash": "561136489",
            "normalizedBody": "return handleAddReaction({userId,rowId,reactionType});}"
          },
          {
            "name": "addDataReaction",
            "signature": "function addDataReaction(userId, rowId, reactionType)",
            "body": "try {\n    if (!validateReactionType(reactionType)) {\n      console.error('DataService.addReaction: ç„¡åŠ¹ãªãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—', reactionType);\n      return false;\n    }\n\n    // âœ… GAS Best Practice: ç›´æ¥DBå‘¼ã³å‡ºã—ï¼ˆConfigServiceä¾å­˜é™¤å»ï¼‰\n    const user = ServiceFactory.getDB().findUserById(userId);\n    if (!user || !user.configJson) {\n      console.error('DataService.addReaction: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãªã—');\n      return false;\n    }\n\n    const config = JSON.parse(user.configJson);\n    if (!config.spreadsheetId) {\n      console.error('DataService.addReaction: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¨­å®šãªã—');\n      return false;\n    }\n\n    // ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ›´æ–°å®Ÿè¡Œ\n    return updateReactionInSheet(config, rowId, reactionType, 'add');\n  } catch (error) {\n    console.error('DataService.addReaction: ã‚¨ãƒ©ãƒ¼', {\n      userId,\n      rowId,\n      reactionType,\n      error: error.message\n    });\n    return false;\n  }\n}",
            "file": "DataService.gs",
            "lineNumber": 402,
            "endLineNumber": 433,
            "hash": "239369565",
            "normalizedBody": "try{if (!validateReactionType(reactionType)){console.error('DataService.addReaction: ç„¡åŠ¹ãªãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚¿ã‚¤ãƒ—',reactionType);return false;}// âœ… GAS Best Practice: ç›´æ¥DBå‘¼ã³å‡ºã—ï¼ˆConfigServiceä¾å­˜é™¤å»ï¼‰ const user = ServiceFactory.getDB().findUserById(userId);if (!user || !user.configJson){console.error('DataService.addReaction: ãƒ¦ãƒ¼ã‚¶ãƒ¼è¨­å®šãªã—');return false;}const config = JSON.parse(user.configJson);if (!config.spreadsheetId){console.error('DataService.addReaction: ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆè¨­å®šãªã—');return false;}// ãƒªã‚¢ã‚¯ã‚·ãƒ§ãƒ³æ›´æ–°å®Ÿè¡Œ return updateReactionInSheet(config,rowId,reactionType,'add');}catch (error){console.error('DataService.addReaction: ã‚¨ãƒ©ãƒ¼',{userId,rowId,reactionType,error: error.message});return false;}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "toggleDataHighlight",
        "functions": [
          {
            "name": "toggleDataHighlight",
            "signature": "function toggleDataHighlight(userId, rowId)",
            "body": "return handleToggleHighlight({\n    userId,\n    rowId\n  });\n}",
            "file": "DataController.gs",
            "lineNumber": 492,
            "endLineNumber": 497,
            "hash": "-1281444616",
            "normalizedBody": "return handleToggleHighlight({userId,rowId});}"
          },
          {
            "name": "toggleDataHighlight",
            "signature": "function toggleDataHighlight(userId, rowId)",
            "body": "try {\n    // âœ… GAS Best Practice: ç›´æ¥DBå‘¼ã³å‡ºã—ï¼ˆConfigServiceä¾å­˜é™¤å»ï¼‰\n    const user = ServiceFactory.getDB().findUserById(userId);\n    if (!user || !user.configJson) {\n      return false;\n    }\n\n    const config = JSON.parse(user.configJson);\n    if (!config.spreadsheetId) {\n      return false;\n    }\n\n    return updateHighlightInSheet(config, rowId);\n  } catch (error) {\n    console.error('DataService.toggleHighlight: ã‚¨ãƒ©ãƒ¼', {\n      userId,\n      rowId,\n      error: error.message\n    });\n    return false;\n  }\n}",
            "file": "DataService.gs",
            "lineNumber": 472,
            "endLineNumber": 494,
            "hash": "1326095900",
            "normalizedBody": "try{// âœ… GAS Best Practice: ç›´æ¥DBå‘¼ã³å‡ºã—ï¼ˆConfigServiceä¾å­˜é™¤å»ï¼‰ const user = ServiceFactory.getDB().findUserById(userId);if (!user || !user.configJson){return false;}const config = JSON.parse(user.configJson);if (!config.spreadsheetId){return false;}return updateHighlightInSheet(config,rowId);}catch (error){console.error('DataService.toggleHighlight: ã‚¨ãƒ©ãƒ¼',{userId,rowId,error: error.message});return false;}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "diagnose",
        "functions": [
          {
            "name": "diagnose",
            "signature": "function diagnose()",
            "body": "const results = {\n      service: 'DatabaseCore',\n      timestamp: new Date().toISOString(),\n      checks: []\n    };\n\n    try {\n      // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDç¢ºèª\n      const databaseId = this.getSecureDatabaseId();\n      results.checks.push({\n        name: 'Database ID',\n        status: databaseId ? 'âœ…' : 'âŒ',\n        details: databaseId ? 'Database ID configured' : 'Database ID missing'\n      });\n\n      // ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¢ºèª\n      try {\n        const service = this.createSheetsService();\n        results.checks.push({\n          name: 'Service Account',\n          status: service ? 'âœ…' : 'âŒ',\n          details: 'Service account authentication working'\n        });\n      } catch (serviceError) {\n        results.checks.push({\n          name: 'Service Account',\n          status: 'âŒ',\n          details: serviceError.message\n        });\n      }\n\n      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µãƒ¼ãƒ“ã‚¹ç¢ºèª\n      try {\n        const cache = ServiceFactory.getCache();\n        cache.get('test_key', null);\n        results.checks.push({\n          name: 'Cache Service',\n          status: 'âœ…',\n          details: 'Cache service accessible'\n        });\n      } catch (cacheError) {\n        results.checks.push({\n          name: 'Cache Service',\n          status: 'âš ï¸',\n          details: cacheError.message\n        });\n      }\n\n      results.overall = results.checks.every(check => check.status === 'âœ…') ? 'âœ…' : 'âš ï¸';\n    } catch (error) {\n      results.checks.push({\n        name: 'Core Diagnosis',\n        status: 'âŒ',\n        details: error.message\n      });\n      results.overall = 'âŒ';\n    }\n\n    return results;\n  }",
            "file": "DatabaseCore.gs",
            "lineNumber": 243,
            "endLineNumber": 303,
            "hash": "1341483001",
            "normalizedBody": "const results ={service: 'DatabaseCore',timestamp: new Date().toISOString(),checks: []};try{// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹IDç¢ºèª const databaseId = this.getSecureDatabaseId();results.checks.push({name: 'Database ID',status: databaseId ? 'âœ…' : 'âŒ',details: databaseId ? 'Database ID configured' : 'Database ID missing'});// ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆç¢ºèª try{const service = this.createSheetsService();results.checks.push({name: 'Service Account',status: service ? 'âœ…' : 'âŒ',details: 'Service account authentication working'});}catch (serviceError){results.checks.push({name: 'Service Account',status: 'âŒ',details: serviceError.message});}// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚µãƒ¼ãƒ“ã‚¹ç¢ºèª try{const cache = ServiceFactory.getCache();cache.get('test_key',null);results.checks.push({name: 'Cache Service',status: 'âœ…',details: 'Cache service accessible'});}catch (cacheError){results.checks.push({name: 'Cache Service',status: 'âš ï¸',details: cacheError.message});}results.overall = results.checks.every(check => check.status === 'âœ…') ? 'âœ…' : 'âš ï¸';}catch (error){results.checks.push({name: 'Core Diagnosis',status: 'âŒ',details: error.message});results.overall = 'âŒ';}return results;}"
          },
          {
            "name": "diagnose",
            "signature": "function diagnose()",
            "body": "return {\n      service: 'DatabaseOperations',\n      timestamp: new Date().toISOString(),\n      features: [\n        'User CRUD operations',\n        'Email-based search',\n        'User ID lookup',\n        'Batch operations',\n        'Get all users with filtering'\n      ],\n      dependencies: [\n        'DatabaseCore'\n      ],\n      status: 'âœ… Active'\n    };\n  }",
            "file": "DatabaseCore.gs",
            "lineNumber": 627,
            "endLineNumber": 643,
            "hash": "-557336544",
            "normalizedBody": "return{service: 'DatabaseOperations',timestamp: new Date().toISOString(),features: [ 'User CRUD operations','Email-based search','User ID lookup','Batch operations','Get all users with filtering' ],dependencies: [ 'DatabaseCore' ],status: 'âœ… Active'};}"
          },
          {
            "name": "diagnose",
            "signature": "function diagnose()",
            "body": "return {\n      service: 'DatabaseService',\n      timestamp: new Date().toISOString(),\n      architecture: 'çµ±ä¸€å§”è­²ãƒ‘ã‚¿ãƒ¼ãƒ³',\n      dependencies: [\n        'DatabaseCore - ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ©Ÿèƒ½',\n        'DatabaseOperations - CRUDæ“ä½œ',\n        'AppCacheService - çµ±ä¸€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†'\n      ],\n      legacyImplementations: 'å®Œå…¨å‰Šé™¤æ¸ˆã¿',\n      codeSize: 'å¤§å¹…å‰Šæ¸› (1669è¡Œ â†’ 80è¡Œ)',\n      status: 'âœ… å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†'\n    };\n  }",
            "file": "DatabaseCore.gs",
            "lineNumber": 746,
            "endLineNumber": 760,
            "hash": "488550251",
            "normalizedBody": "return{service: 'DatabaseService',timestamp: new Date().toISOString(),architecture: 'çµ±ä¸€å§”è­²ãƒ‘ã‚¿ãƒ¼ãƒ³',dependencies: [ 'DatabaseCore - ã‚³ã‚¢ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ©Ÿèƒ½','DatabaseOperations - CRUDæ“ä½œ','AppCacheService - çµ±ä¸€ã‚­ãƒ£ãƒƒã‚·ãƒ¥ç®¡ç†' ],legacyImplementations: 'å®Œå…¨å‰Šé™¤æ¸ˆã¿',codeSize: 'å¤§å¹…å‰Šæ¸› (1669è¡Œ â†’ 80è¡Œ)',status: 'âœ… å®Œå…¨ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—å®Œäº†'};}"
          },
          {
            "name": "diagnose",
            "signature": "function diagnose()",
            "body": "const startTime = Date.now();\n\n    const diagnostics = {\n      timestamp: new Date().toISOString(),\n      factory: 'ServiceFactory',\n      version: '1.0.0',\n      services: {},\n      platform: {},\n      executionTime: 0\n    };\n\n    try {\n      // Database service check\n      diagnostics.services.database = {\n        available: this.getDB() !== null,\n        type: typeof DB !== 'undefined' ? 'Global' :\n              typeof DatabaseOperations !== 'undefined' ? 'Direct' : 'None'\n      };\n\n      // Session service check\n      const session = this.getSession();\n      diagnostics.services.session = {\n        available: session.isValid,\n        email: session.email ? 'Available' : 'None'\n      };\n\n      // Properties service check\n      const props = this.getProperties();\n      diagnostics.services.properties = {\n        available: props.getAdminEmail() !== null\n      };\n\n      // Cache service check\n      const cache = this.getCache();\n      const testKey = `test_key_${  Date.now()}`;\n      cache.put(testKey, 'test', 10);\n      const testResult = cache.get(testKey);\n      cache.remove(testKey);\n      diagnostics.services.cache = {\n        available: testResult === 'test'\n      };\n\n      // Platform APIs check\n      diagnostics.platform = {\n        session: typeof Session !== 'undefined',\n        properties: typeof PropertiesService !== 'undefined',\n        cache: typeof CacheService !== 'undefined',\n        spreadsheet: typeof SpreadsheetApp !== 'undefined',\n        utilities: typeof Utilities !== 'undefined'\n      };\n\n    } catch (error) {\n      diagnostics.error = error.message;\n    }\n\n    diagnostics.executionTime = `${Date.now() - startTime}ms`;\n    return diagnostics;\n  }",
            "file": "ServiceFactory.gs",
            "lineNumber": 292,
            "endLineNumber": 350,
            "hash": "-39605908",
            "normalizedBody": "const startTime = Date.now();const diagnostics ={timestamp: new Date().toISOString(),factory: 'ServiceFactory',version: '1.0.0',services:{},platform:{},executionTime: 0};try{// Database service check diagnostics.services.database ={available: this.getDB() !== null,type: typeof DB !== 'undefined' ? 'Global' : typeof DatabaseOperations !== 'undefined' ? 'Direct' : 'None'};// Session service check const session = this.getSession();diagnostics.services.session ={available: session.isValid,email: session.email ? 'Available' : 'None'};// Properties service check const props = this.getProperties();diagnostics.services.properties ={available: props.getAdminEmail() !== null};// Cache service check const cache = this.getCache();const testKey = `test_key_${Date.now()}`;cache.put(testKey,'test',10);const testResult = cache.get(testKey);cache.remove(testKey);diagnostics.services.cache ={available: testResult === 'test'};// Platform APIs check diagnostics.platform ={session: typeof Session !== 'undefined',properties: typeof PropertiesService !== 'undefined',cache: typeof CacheService !== 'undefined',spreadsheet: typeof SpreadsheetApp !== 'undefined',utilities: typeof Utilities !== 'undefined'};}catch (error){diagnostics.error = error.message;}diagnostics.executionTime = `${Date.now() - startTime}ms`;return diagnostics;}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "findUserByEmail",
        "functions": [
          {
            "name": "findUserByEmail",
            "signature": "function findUserByEmail(email)",
            "body": "if (!email) return null;\n\n    try {\n      console.log('DatabaseOperations.findUserByEmail: é–‹å§‹');\n\n      const service = DatabaseCore.getSheetsServiceCached();\n      const databaseId = DatabaseCore.getSecureDatabaseId();\n\n      const range = 'Users!A:Z';\n      const response = service.spreadsheets.values.get({\n        spreadsheetId: databaseId,\n        range\n      });\n\n      const rows = response.values || [];\n      if (rows.length <= 1) {\n        return null; // ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿\n      }\n\n      const [headers] = rows;\n      const emailIndex = headers.findIndex(h => h.toLowerCase().includes('email'));\n\n      if (emailIndex === -1) {\n        throw new Error('ãƒ¡ãƒ¼ãƒ«åˆ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');\n      }\n\n      // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§æ¤œç´¢\n      for (let i = 1; i < rows.length; i++) {\n        const row = rows[i];\n        if (row[emailIndex] && row[emailIndex].toLowerCase() === email.toLowerCase()) {\n                    return this.rowToUser(row, headers);\n        }\n      }\n\n            return null;\n    } catch (error) {\n      console.error('DatabaseOperations', {\n        operation: 'findUserByEmail',\n        email: typeof email === 'string' && email ? `${email.substring(0, 5)}***` : `[${typeof email}]`,\n        error: error.message\n      });\n      return null;\n    }\n  },",
            "file": "DatabaseCore.gs",
            "lineNumber": 333,
            "endLineNumber": 377,
            "hash": "-1675782224",
            "normalizedBody": "if (!email) return null;try{console.log('DatabaseOperations.findUserByEmail: é–‹å§‹');const service = DatabaseCore.getSheetsServiceCached();const databaseId = DatabaseCore.getSecureDatabaseId();const range = 'Users!A:Z';const response = service.spreadsheets.values.get({spreadsheetId: databaseId,range});const rows = response.values || [];if (rows.length <= 1){return null;// ãƒ˜ãƒƒãƒ€ãƒ¼ã®ã¿}const [headers] = rows;const emailIndex = headers.findIndex(h => h.toLowerCase().includes('email'));if (emailIndex === -1){throw new Error('ãƒ¡ãƒ¼ãƒ«åˆ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');}// ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§æ¤œç´¢ for (let i = 1;i < rows.length;i++){const row = rows[i];if (row[emailIndex] && row[emailIndex].toLowerCase() === email.toLowerCase()){return this.rowToUser(row,headers);}}return null;}catch (error){console.error('DatabaseOperations',{operation: 'findUserByEmail',email: typeof email === 'string' && email ? `${email.substring(0,5)}***` : `[${typeof email}]`,error: error.message});return null;}},"
          },
          {
            "name": "findUserByEmail",
            "signature": "function findUserByEmail(email, forceRefresh = false)",
            "body": "initDatabaseCore(); // é…å»¶åˆæœŸåŒ–\n    return DatabaseOperations.findUserByEmail(email, forceRefresh);\n  },",
            "file": "DatabaseCore.gs",
            "lineNumber": 707,
            "endLineNumber": 710,
            "hash": "2129143948",
            "normalizedBody": "initDatabaseCore();// é…å»¶åˆæœŸåŒ– return DatabaseOperations.findUserByEmail(email,forceRefresh);},"
          },
          {
            "name": "findUserByEmail",
            "signature": "function findUserByEmail(email)",
            "body": "try {\n    if (!email || !validateUserEmail(email).isValid) {\n      return null;\n    }\n\n    // ğŸ”§ ServiceFactoryçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å–å¾—\n    const db = ServiceFactory.getDB();\n    if (!db) {\n      console.error('findUserByEmail: Database not available');\n      return null;\n    }\n\n    return db.findUserByEmail(email);\n  } catch (error) {\n    console.error('UserService.findUserByEmail: ã‚¨ãƒ©ãƒ¼', error.message);\n    return null;\n  }\n}",
            "file": "UserService.gs",
            "lineNumber": 459,
            "endLineNumber": 477,
            "hash": "-583433770",
            "normalizedBody": "try{if (!email || !validateUserEmail(email).isValid){return null;}// ğŸ”§ ServiceFactoryçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å–å¾— const db = ServiceFactory.getDB();if (!db){console.error('findUserByEmail: Database not available');return null;}return db.findUserByEmail(email);}catch (error){console.error('UserService.findUserByEmail: ã‚¨ãƒ©ãƒ¼',error.message);return null;}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "findUserById",
        "functions": [
          {
            "name": "findUserById",
            "signature": "function findUserById(userId)",
            "body": "if (!userId) return null;\n\n    try {\n      console.log('DatabaseOperations.findUserById');\n\n      const service = DatabaseCore.getSheetsServiceCached();\n      const databaseId = DatabaseCore.getSecureDatabaseId();\n\n      const range = 'Users!A:Z';\n      const response = service.spreadsheets.values.get({\n        spreadsheetId: databaseId,\n        range\n      });\n\n      const rows = response.values || [];\n      if (rows.length <= 1) {\n                return null;\n      }\n\n      const [headers] = rows;\n      const userIdIndex = headers.findIndex(h => h.toLowerCase().includes('userid'));\n\n      if (userIdIndex === -1) {\n        throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼IDåˆ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');\n      }\n\n      // ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§æ¤œç´¢\n      for (let i = 1; i < rows.length; i++) {\n        const row = rows[i];\n        if (row[userIdIndex] === userId) {\n                    return this.rowToUser(row, headers);\n        }\n      }\n\n            return null;\n    } catch (error) {\n      console.error('DatabaseOperations', {\n        operation: 'findUserById',\n        userId: typeof userId === 'string' && userId ? `${userId.substring(0, 8)}***` : `[${typeof userId}]`,\n        error: error.message\n      });\n      return null;\n    }\n  },",
            "file": "DatabaseCore.gs",
            "lineNumber": 384,
            "endLineNumber": 428,
            "hash": "-151782197",
            "normalizedBody": "if (!userId) return null;try{console.log('DatabaseOperations.findUserById');const service = DatabaseCore.getSheetsServiceCached();const databaseId = DatabaseCore.getSecureDatabaseId();const range = 'Users!A:Z';const response = service.spreadsheets.values.get({spreadsheetId: databaseId,range});const rows = response.values || [];if (rows.length <= 1){return null;}const [headers] = rows;const userIdIndex = headers.findIndex(h => h.toLowerCase().includes('userid'));if (userIdIndex === -1){throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼IDåˆ—ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');}// ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã§æ¤œç´¢ for (let i = 1;i < rows.length;i++){const row = rows[i];if (row[userIdIndex] === userId){return this.rowToUser(row,headers);}}return null;}catch (error){console.error('DatabaseOperations',{operation: 'findUserById',userId: typeof userId === 'string' && userId ? `${userId.substring(0,8)}***` : `[${typeof userId}]`,error: error.message});return null;}},"
          },
          {
            "name": "findUserById",
            "signature": "function findUserById(userId)",
            "body": "initDatabaseCore(); // é…å»¶åˆæœŸåŒ–\n    return DatabaseOperations.findUserById(userId);\n  },",
            "file": "DatabaseCore.gs",
            "lineNumber": 702,
            "endLineNumber": 705,
            "hash": "-2117640363",
            "normalizedBody": "initDatabaseCore();// é…å»¶åˆæœŸåŒ– return DatabaseOperations.findUserById(userId);},"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "createUser",
        "functions": [
          {
            "name": "createUser",
            "signature": "function createUser(email, additionalData = {})",
            "body": "if (!email) {\n      throw new Error('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¿…è¦ã§ã™');\n    }\n\n    try {\n      console.log('DatabaseOperations.createUser');\n\n      // é‡è¤‡ãƒã‚§ãƒƒã‚¯\n      const existingUser = this.findUserByEmail(email);\n      if (existingUser) {\n        throw new Error('æ—¢ã«ç™»éŒ²æ¸ˆã¿ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™');\n      }\n\n      const service = DatabaseCore.getSheetsServiceCached();\n      const databaseId = DatabaseCore.getSecureDatabaseId();\n\n      // æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ä½œæˆ\n      const userId = Utilities.getUuid();\n      const now = new Date().toISOString();\n\n      const userData = {\n        userId,\n        userEmail: email,\n        createdAt: now,\n        lastModified: now,\n        configJson: JSON.stringify({}),\n        ...additionalData\n      };\n\n      // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ \n      const range = 'Users!A:A';\n      service.spreadsheets.values.append({\n        spreadsheetId: databaseId,\n        range,\n        valueInputOption: 'USER_ENTERED',\n        resource: {\n          values: [Object.values(userData)]\n        }\n      });\n\n            console.log('DatabaseOperations', {\n        operation: 'createUser',\n        userId: `${userId.substring(0, 8)  }***`,\n        email: `${email.substring(0, 5)  }***`\n      });\n\n      return userData;\n    } catch (error) {\n      console.error('DatabaseOperations', {\n        operation: 'createUser',\n        email: typeof email === 'string' && email ? `${email.substring(0, 5)}***` : `[${typeof email}]`,\n        error: error.message\n      });\n      throw error;\n    }\n  },",
            "file": "DatabaseCore.gs",
            "lineNumber": 436,
            "endLineNumber": 492,
            "hash": "-1910945487",
            "normalizedBody": "if (!email){throw new Error('ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ãŒå¿…è¦ã§ã™');}try{console.log('DatabaseOperations.createUser');// é‡è¤‡ãƒã‚§ãƒƒã‚¯ const existingUser = this.findUserByEmail(email);if (existingUser){throw new Error('æ—¢ã«ç™»éŒ²æ¸ˆã¿ã®ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã§ã™');}const service = DatabaseCore.getSheetsServiceCached();const databaseId = DatabaseCore.getSecureDatabaseId();// æ–°ã—ã„ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ä½œæˆ const userId = Utilities.getUuid();const now = new Date().toISOString();const userData ={userId,userEmail: email,createdAt: now,lastModified: now,configJson: JSON.stringify({}),...additionalData};// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«è¿½åŠ  const range = 'Users!A:A';service.spreadsheets.values.append({spreadsheetId: databaseId,range,valueInputOption: 'USER_ENTERED',resource:{values: [Object.values(userData)]}});console.log('DatabaseOperations',{operation: 'createUser',userId: `${userId.substring(0,8)}***`,email: `${email.substring(0,5)}***`});return userData;}catch (error){console.error('DatabaseOperations',{operation: 'createUser',email: typeof email === 'string' && email ? `${email.substring(0,5)}***` : `[${typeof email}]`,error: error.message});throw error;}},"
          },
          {
            "name": "createUser",
            "signature": "function createUser(userEmail, initialConfig = {})",
            "body": "// ğŸš€ Zero-dependency: getCurrentUserEmailãŒæ—¢ã«ServiceFactoryåˆ©ç”¨\n    try {\n      if (!userEmail || !validateUserEmail(userEmail).isValid) {\n        throw new Error('ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹');\n      }\n\n      // ğŸ”§ ServiceFactoryçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å–å¾—\n      const db = ServiceFactory.getDB();\n      if (!db) {\n        throw new Error('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“');\n      }\n\n      // æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚§ãƒƒã‚¯\n      const existingUser = db.findUserByEmail(userEmail);\n      if (existingUser) {\n        console.info('UserService.createUser: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿”å´', { userEmail });\n        return existingUser;\n      }\n\n      // æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ä½œæˆ\n      const userData = buildNewUserData(userEmail, initialConfig);\n\n      // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜\n      const success = db.createUser(userData);\n      if (!success) {\n        throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã«å¤±æ•—');\n      }\n\n      console.info('UserService.createUser: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆå®Œäº†', { \n        userEmail, \n        userId: userData.userId \n      });\n\n      return userData;\n    } catch (error) {\n      console.error('UserService.createUser: ã‚¨ãƒ©ãƒ¼', {\n        userEmail,\n        error: error.message\n      });\n      throw error;\n    }\n}",
            "file": "UserService.gs",
            "lineNumber": 334,
            "endLineNumber": 376,
            "hash": "-1627343155",
            "normalizedBody": "// ğŸš€ Zero-dependency: getCurrentUserEmailãŒæ—¢ã«ServiceFactoryåˆ©ç”¨ try{if (!userEmail || !validateUserEmail(userEmail).isValid){throw new Error('ç„¡åŠ¹ãªãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹');}// ğŸ”§ ServiceFactoryçµŒç”±ã§ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹å–å¾— const db = ServiceFactory.getDB();if (!db){throw new Error('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚µãƒ¼ãƒ“ã‚¹ãŒåˆ©ç”¨ã§ãã¾ã›ã‚“');}// æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒã‚§ãƒƒã‚¯ const existingUser = db.findUserByEmail(userEmail);if (existingUser){console.info('UserService.createUser: æ—¢å­˜ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚’è¿”å´',{userEmail});return existingUser;}// æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ‡ãƒ¼ã‚¿ä½œæˆ const userData = buildNewUserData(userEmail,initialConfig);// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ä¿å­˜ const success = db.createUser(userData);if (!success){throw new Error('ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã«å¤±æ•—');}console.info('UserService.createUser: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆå®Œäº†',{userEmail,userId: userData.userId});return userData;}catch (error){console.error('UserService.createUser: ã‚¨ãƒ©ãƒ¼',{userEmail,error: error.message});throw error;}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "clearUserCache",
        "functions": [
          {
            "name": "clearUserCache",
            "signature": "function clearUserCache(userId, _userEmail)",
            "body": "try {\n      const cache = ServiceFactory.getCache();\n      const userCacheKey = `user_${userId}`;\n      return cache.remove(userCacheKey);\n    } catch (error) {\n      console.error('DatabaseCore.clearUserCache:', error.message);\n      return false;\n    }\n  },",
            "file": "DatabaseCore.gs",
            "lineNumber": 725,
            "endLineNumber": 734,
            "hash": "-636035652",
            "normalizedBody": "try{const cache = ServiceFactory.getCache();const userCacheKey = `user_${userId}`;return cache.remove(userCacheKey);}catch (error){console.error('DatabaseCore.clearUserCache:',error.message);return false;}},"
          },
          {
            "name": "clearUserCache",
            "signature": "function clearUserCache(userId = null)",
            "body": "// CacheServiceã«çµ±ä¸€å§”è­²\n    return CacheService.invalidateUserCache(userId);\n}",
            "file": "UserService.gs",
            "lineNumber": 418,
            "endLineNumber": 421,
            "hash": "415492947",
            "normalizedBody": "// CacheServiceã«çµ±ä¸€å§”è­² return CacheService.invalidateUserCache(userId);}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "testSetup",
        "functions": [
          {
            "name": "testSetup",
            "signature": "function testSetup()",
            "body": "try {\n      const props = ServiceFactory.getProperties();\n      const databaseId = props.getDatabaseSpreadsheetId();\n      const adminEmail = props.getAdminEmail();\n\n      if (!databaseId || !adminEmail) {\n        return {\n          success: false,\n          message: 'ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒä¸å®Œå…¨ã§ã™ã€‚å¿…è¦ãªè¨­å®šãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚'\n        };\n      }\n\n      // ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ\n      try {\n        const spreadsheet = SpreadsheetApp.openById(databaseId);\n        const name = spreadsheet.getName();\n        console.log('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆæˆåŠŸ:', name);\n      } catch (dbError) {\n        return {\n          success: false,\n          message: `ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“: ${dbError.message}`\n        };\n      }\n\n      return {\n        success: true,\n        message: 'ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã¾ã—ãŸ',\n        testResults: {\n          database: 'âœ… ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½',\n          adminEmail: 'âœ… è¨­å®šæ¸ˆã¿',\n          timestamp: new Date().toISOString()\n        }\n      };\n\n    } catch (error) {\n      console.error('SystemController.testSetup ã‚¨ãƒ©ãƒ¼:', error.message);\n      return {\n        success: false,\n        message: `ãƒ†ã‚¹ãƒˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`\n      };\n    }\n}",
            "file": "SystemController.gs",
            "lineNumber": 144,
            "endLineNumber": 186,
            "hash": "1480642595",
            "normalizedBody": "try{const props = ServiceFactory.getProperties();const databaseId = props.getDatabaseSpreadsheetId();const adminEmail = props.getAdminEmail();if (!databaseId || !adminEmail){return{success: false,message: 'ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãŒä¸å®Œå…¨ã§ã™ã€‚å¿…è¦ãªè¨­å®šãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã€‚'};}// ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆ try{const spreadsheet = SpreadsheetApp.openById(databaseId);const name = spreadsheet.getName();console.log('ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¢ã‚¯ã‚»ã‚¹ãƒ†ã‚¹ãƒˆæˆåŠŸ:',name);}catch (dbError){return{success: false,message: `ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚¢ã‚¯ã‚»ã‚¹ã§ãã¾ã›ã‚“: ${dbError.message}`};}return{success: true,message: 'ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆãŒæˆåŠŸã—ã¾ã—ãŸ',testResults:{database: 'âœ… ã‚¢ã‚¯ã‚»ã‚¹å¯èƒ½',adminEmail: 'âœ… è¨­å®šæ¸ˆã¿',timestamp: new Date().toISOString()}};}catch (error){console.error('SystemController.testSetup ã‚¨ãƒ©ãƒ¼:',error.message);return{success: false,message: `ãƒ†ã‚¹ãƒˆä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`};}}"
          },
          {
            "name": "testSetup",
            "signature": "function testSetup()",
            "body": "try {\n    // SystemController.gsã®testSetup()é–¢æ•°ã¸ã®ç›´æ¥å§”è­²\n    // ã‚¼ãƒ­ä¾å­˜ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼šé–¢æ•°ã¯ç›´æ¥å‘¼ã³å‡ºã—å¯èƒ½\n    return testSetupFromSystemController();\n  } catch (error) {\n    console.error('testSetup error:', error.message);\n    return {\n      success: false,\n      status: 'error',\n      message: `ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`\n    };\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1320,
            "endLineNumber": 1333,
            "hash": "-1411501395",
            "normalizedBody": "try{// SystemController.gsã®testSetup()é–¢æ•°ã¸ã®ç›´æ¥å§”è­² // ã‚¼ãƒ­ä¾å­˜ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£ï¼šé–¢æ•°ã¯ç›´æ¥å‘¼ã³å‡ºã—å¯èƒ½ return testSetupFromSystemController();}catch (error){console.error('testSetup error:',error.message);return{success: false,status: 'error',message: `ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­ã«ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ: ${error.message}`};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "forceUrlSystemReset",
        "functions": [
          {
            "name": "forceUrlSystemReset",
            "signature": "function forceUrlSystemReset()",
            "body": "try {\n      console.warn('ã‚·ã‚¹ãƒ†ãƒ å¼·åˆ¶ãƒªã‚»ãƒƒãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ');\n\n      // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ï¼ˆè¤‡æ•°ã®æ–¹æ³•ã‚’è©¦è¡Œï¼‰\n      const cacheResults = [];\n      try {\n        const cache = CacheService.getScriptCache();\n        if (cache && typeof cache.removeAll === 'function') {\n          cache.removeAll();\n          cacheResults.push('ScriptCache ã‚¯ãƒªã‚¢æˆåŠŸ');\n        }\n      } catch (cacheError) {\n        console.warn('ScriptCache ã‚¯ãƒªã‚¢ã‚¨ãƒ©ãƒ¼:', cacheError.message);\n        cacheResults.push(`ScriptCache ã‚¯ãƒªã‚¢å¤±æ•—: ${cacheError.message}`);\n      }\n\n      // Document Cache ã‚‚è©¦è¡Œ\n      try {\n        const docCache = CacheService.getDocumentCache();\n        if (docCache && typeof docCache.removeAll === 'function') {\n          docCache.removeAll();\n          cacheResults.push('DocumentCache ã‚¯ãƒªã‚¢æˆåŠŸ');\n        }\n      } catch (docCacheError) {\n        console.warn('DocumentCache ã‚¯ãƒªã‚¢ã‚¨ãƒ©ãƒ¼:', docCacheError.message);\n        cacheResults.push(`DocumentCache ã‚¯ãƒªã‚¢å¤±æ•—: ${docCacheError.message}`);\n      }\n\n      // é‡è¦: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã‚¯ãƒªã‚¢ã—ãªã„ï¼ˆãƒ‡ãƒ¼ã‚¿æå¤±é˜²æ­¢ï¼‰\n\n      return {\n        success: true,\n        message: 'ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚»ãƒƒãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ',\n        actions: cacheResults,\n        cacheStatus: cacheResults.join(', '),\n        timestamp: new Date().toISOString()\n      };\n\n    } catch (error) {\n      console.error('SystemController.forceUrlSystemReset ã‚¨ãƒ©ãƒ¼:', error.message);\n      return {\n        success: false,\n        message: error.message\n      };\n    }\n}",
            "file": "SystemController.gs",
            "lineNumber": 194,
            "endLineNumber": 240,
            "hash": "935831494",
            "normalizedBody": "try{console.warn('ã‚·ã‚¹ãƒ†ãƒ å¼·åˆ¶ãƒªã‚»ãƒƒãƒˆãŒå®Ÿè¡Œã•ã‚Œã¾ã—ãŸ');// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ã‚¯ãƒªã‚¢ï¼ˆè¤‡æ•°ã®æ–¹æ³•ã‚’è©¦è¡Œï¼‰ const cacheResults = [];try{const cache = CacheService.getScriptCache();if (cache && typeof cache.removeAll === 'function'){cache.removeAll();cacheResults.push('ScriptCache ã‚¯ãƒªã‚¢æˆåŠŸ');}}catch (cacheError){console.warn('ScriptCache ã‚¯ãƒªã‚¢ã‚¨ãƒ©ãƒ¼:',cacheError.message);cacheResults.push(`ScriptCache ã‚¯ãƒªã‚¢å¤±æ•—: ${cacheError.message}`);}// Document Cache ã‚‚è©¦è¡Œ try{const docCache = CacheService.getDocumentCache();if (docCache && typeof docCache.removeAll === 'function'){docCache.removeAll();cacheResults.push('DocumentCache ã‚¯ãƒªã‚¢æˆåŠŸ');}}catch (docCacheError){console.warn('DocumentCache ã‚¯ãƒªã‚¢ã‚¨ãƒ©ãƒ¼:',docCacheError.message);cacheResults.push(`DocumentCache ã‚¯ãƒªã‚¢å¤±æ•—: ${docCacheError.message}`);}// é‡è¦: ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ã¯ã‚¯ãƒªã‚¢ã—ãªã„ï¼ˆãƒ‡ãƒ¼ã‚¿æå¤±é˜²æ­¢ï¼‰ return{success: true,message: 'ã‚·ã‚¹ãƒ†ãƒ ãƒªã‚»ãƒƒãƒˆãŒå®Œäº†ã—ã¾ã—ãŸ',actions: cacheResults,cacheStatus: cacheResults.join(','),timestamp: new Date().toISOString()};}catch (error){console.error('SystemController.forceUrlSystemReset ã‚¨ãƒ©ãƒ¼:',error.message);return{success: false,message: error.message};}}"
          },
          {
            "name": "forceUrlSystemReset",
            "signature": "function forceUrlSystemReset()",
            "body": "try {\n    // SystemControllerã«å§”è­²\n    console.log('URL system reset requested');\n    return {\n      success: true,\n      message: 'URL system reset completed'\n    };\n  } catch (error) {\n    console.error('forceUrlSystemReset error:', error.message);\n    return {\n      success: false,\n      message: `URL reset ã‚¨ãƒ©ãƒ¼: ${error.message}`\n    };\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1551,
            "endLineNumber": 1566,
            "hash": "-1720493249",
            "normalizedBody": "try{// SystemControllerã«å§”è­² console.log('URL system reset requested');return{success: true,message: 'URL system reset completed'};}catch (error){console.error('forceUrlSystemReset error:',error.message);return{success: false,message: `URL reset ã‚¨ãƒ©ãƒ¼: ${error.message}`};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "getWebAppUrl",
        "functions": [
          {
            "name": "getWebAppUrl",
            "signature": "function getWebAppUrl()",
            "body": "try {\n      const url = ScriptApp.getService().getUrl();\n      if (!url) {\n        throw new Error('Webã‚¢ãƒ—ãƒªURLã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');\n      }\n      return url;\n    } catch (error) {\n      console.error('SystemController.getWebAppUrl ã‚¨ãƒ©ãƒ¼:', error.message);\n      return '';\n    }\n}",
            "file": "SystemController.gs",
            "lineNumber": 248,
            "endLineNumber": 259,
            "hash": "-1438588312",
            "normalizedBody": "try{const url = ScriptApp.getService().getUrl();if (!url){throw new Error('Webã‚¢ãƒ—ãƒªURLã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ');}return url;}catch (error){console.error('SystemController.getWebAppUrl ã‚¨ãƒ©ãƒ¼:',error.message);return '';}}"
          },
          {
            "name": "getWebAppUrl",
            "signature": "function getWebAppUrl()",
            "body": "try {\n    return ScriptApp.getService().getUrl();\n  } catch (error) {\n    console.error('getWebAppUrl error:', error.message);\n    throw new Error(`Webã‚¢ãƒ—ãƒªURLå–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`);\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1385,
            "endLineNumber": 1392,
            "hash": "-584894202",
            "normalizedBody": "try{return ScriptApp.getService().getUrl();}catch (error){console.error('getWebAppUrl error:',error.message);throw new Error(`Webã‚¢ãƒ—ãƒªURLå–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`);}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "getSystemDomainInfo",
        "functions": [
          {
            "name": "getSystemDomainInfo",
            "signature": "function getSystemDomainInfo()",
            "body": "try {\n      // ğŸ¯ Zero-dependency: ç›´æ¥Session APIä½¿ç”¨\n      const currentUser = getCurrentEmailDirectSC();\n      let domain = 'unknown';\n\n      if (currentUser && currentUser.includes('@')) {\n        [, domain] = currentUser.split('@');\n      }\n\n      return {\n        success: true,\n        domain,\n        currentUser,\n        timestamp: new Date().toISOString()\n      };\n\n    } catch {\n      return {\n        success: false,\n        message: 'ãƒ‰ãƒ¡ã‚¤ãƒ³æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ'\n      };\n    }\n}",
            "file": "SystemController.gs",
            "lineNumber": 376,
            "endLineNumber": 399,
            "hash": "-769368979",
            "normalizedBody": "try{// ğŸ¯ Zero-dependency: ç›´æ¥Session APIä½¿ç”¨ const currentUser = getCurrentEmailDirectSC();let domain = 'unknown';if (currentUser && currentUser.includes('@')){[,domain] = currentUser.split('@');}return{success: true,domain,currentUser,timestamp: new Date().toISOString()};}catch{return{success: false,message: 'ãƒ‰ãƒ¡ã‚¤ãƒ³æƒ…å ±ã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ'};}}"
          },
          {
            "name": "getSystemDomainInfo",
            "signature": "function getSystemDomainInfo()",
            "body": "try {\n    const session = ServiceFactory.getSession();\n    if (!session.isValid || !session.email) {\n      return {\n        success: false,\n        message: 'ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“'\n      };\n    }\n\n    const props = ServiceFactory.getProperties();\n    const adminEmail = props.getAdminEmail();\n\n    const userDomain = session.email.split('@')[1];\n    const adminDomain = adminEmail ? adminEmail.split('@')[1] : null;\n\n    return {\n      success: true,\n      userDomain,\n      adminDomain,\n      isValidDomain: adminDomain ? userDomain === adminDomain : true,\n      userEmail: session.email\n    };\n  } catch (error) {\n    console.error('getSystemDomainInfo error:', error.message);\n    return {\n      success: false,\n      message: `ãƒ‰ãƒ¡ã‚¤ãƒ³æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`\n    };\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1397,
            "endLineNumber": 1427,
            "hash": "909261950",
            "normalizedBody": "try{const session = ServiceFactory.getSession();if (!session.isValid || !session.email){return{success: false,message: 'ã‚»ãƒƒã‚·ãƒ§ãƒ³æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“'};}const props = ServiceFactory.getProperties();const adminEmail = props.getAdminEmail();const userDomain = session.email.split('@')[1];const adminDomain = adminEmail ? adminEmail.split('@')[1] : null;return{success: true,userDomain,adminDomain,isValidDomain: adminDomain ? userDomain === adminDomain : true,userEmail: session.email};}catch (error){console.error('getSystemDomainInfo error:',error.message);return{success: false,message: `ãƒ‰ãƒ¡ã‚¤ãƒ³æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "getConfig",
        "functions": [
          {
            "name": "getConfig",
            "signature": "function getConfig()",
            "body": "try {\n    // ğŸ”§ DBåˆæœŸåŒ–ï¼ˆGASèª­ã¿è¾¼ã¿é †åºå¯¾å¿œï¼‰\n    const db = initDatabaseConnection();\n    if (!db) {\n      console.error('getConfig: DBåˆæœŸåŒ–å¤±æ•—');\n      return {\n        success: false,\n        message: 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼'\n      };\n    }\n\n    // ğŸ¯ Zero-dependency: ç›´æ¥Session APIã§ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—\n    const email = getCurrentEmailDirectSC();\n    if (!email) {\n      return { success: false, message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“' };\n    }\n\n    // ğŸ¯ DBåˆæœŸåŒ–æ¸ˆã¿ã®dbå¤‰æ•°ã‚’ä½¿ç”¨\n    let user = db.findUserByEmail(email);\n\n    // Auto-create user if not exists\n    if (!user) {\n      try {\n        const newUserId = generateUserId();\n        user = {\n          userId: newUserId,\n          userEmail: email,\n          isActive: true,\n          createdAt: new Date().toISOString(),\n          configJson: null\n        };\n        db.createUser(user);\n        console.log('SystemController.getConfig: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ:', { userId: newUserId, email });\n      } catch (createErr) {\n        console.error('SystemController.getConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã‚¨ãƒ©ãƒ¼', createErr);\n        return { success: false, message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ' };\n      }\n    }\n\n    // ğŸ¯ Zero-dependency: ç›´æ¥DBã‹ã‚‰è¨­å®šå–å¾—\n    let config = {};\n    if (user.configJson) {\n      try {\n        config = JSON.parse(user.configJson);\n      } catch (parseError) {\n        console.error('SystemController.getConfig: è¨­å®šJSONè§£æã‚¨ãƒ©ãƒ¼', parseError);\n        config = {};\n      }\n    }\n\n    return {\n      success: true,\n      config,\n      userId: user.userId,\n      userEmail: user.userEmail\n    };\n  } catch (error) {\n    console.error('AdminController.getConfig ã‚¨ãƒ©ãƒ¼:', error.message);\n    return {\n      success: false,\n      message: error.message\n    };\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 487,
            "endLineNumber": 551,
            "hash": "1508731028",
            "normalizedBody": "try{// ğŸ”§ DBåˆæœŸåŒ–ï¼ˆGASèª­ã¿è¾¼ã¿é †åºå¯¾å¿œï¼‰ const db = initDatabaseConnection();if (!db){console.error('getConfig: DBåˆæœŸåŒ–å¤±æ•—');return{success: false,message: 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼'};}// ğŸ¯ Zero-dependency: ç›´æ¥Session APIã§ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾— const email = getCurrentEmailDirectSC();if (!email){return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“'};}// ğŸ¯ DBåˆæœŸåŒ–æ¸ˆã¿ã®dbå¤‰æ•°ã‚’ä½¿ç”¨ let user = db.findUserByEmail(email);// Auto-create user if not exists if (!user){try{const newUserId = generateUserId();user ={userId: newUserId,userEmail: email,isActive: true,createdAt: new Date().toISOString(),configJson: null};db.createUser(user);console.log('SystemController.getConfig: æ–°è¦ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆ:',{userId: newUserId,email});}catch (createErr){console.error('SystemController.getConfig: ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã‚¨ãƒ©ãƒ¼',createErr);return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ä½œæˆã«å¤±æ•—ã—ã¾ã—ãŸ'};}}// ğŸ¯ Zero-dependency: ç›´æ¥DBã‹ã‚‰è¨­å®šå–å¾— let config ={};if (user.configJson){try{config = JSON.parse(user.configJson);}catch (parseError){console.error('SystemController.getConfig: è¨­å®šJSONè§£æã‚¨ãƒ©ãƒ¼',parseError);config ={};}}return{success: true,config,userId: user.userId,userEmail: user.userEmail};}catch (error){console.error('AdminController.getConfig ã‚¨ãƒ©ãƒ¼:',error.message);return{success: false,message: error.message};}}"
          },
          {
            "name": "getConfig",
            "signature": "function getConfig()",
            "body": "// ç›´æ¥SystemController.gsã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ååŸºæº–ã§è§£æ±ºï¼‰\n  return getConfigFromSystemController();\n}",
            "file": "main.gs",
            "lineNumber": 1105,
            "endLineNumber": 1108,
            "hash": "1888223999",
            "normalizedBody": "// ç›´æ¥SystemController.gsã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—ï¼ˆãƒ•ã‚¡ã‚¤ãƒ«ååŸºæº–ã§è§£æ±ºï¼‰ return getConfigFromSystemController();}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "checkIsSystemAdmin",
        "functions": [
          {
            "name": "checkIsSystemAdmin",
            "signature": "function checkIsSystemAdmin()",
            "body": "try {\n    // ğŸ¯ Zero-dependency: ç›´æ¥Session APIã¨PropertiesServiceã§ç®¡ç†è€…ç¢ºèª\n    const email = getCurrentEmailDirectSC();\n    if (!email) {\n      return false;\n    }\n\n    const props = PropertiesService.getScriptProperties();\n    const adminEmails = props.getProperty('ADMIN_EMAILS') || '';\n\n    return adminEmails.split(',').map(e => e.trim()).includes(email);\n  } catch (error) {\n    console.error('SystemController.checkIsSystemAdmin ã‚¨ãƒ©ãƒ¼:', error.message);\n    return false;\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 803,
            "endLineNumber": 819,
            "hash": "-721519228",
            "normalizedBody": "try{// ğŸ¯ Zero-dependency: ç›´æ¥Session APIã¨PropertiesServiceã§ç®¡ç†è€…ç¢ºèª const email = getCurrentEmailDirectSC();if (!email){return false;}const props = PropertiesService.getScriptProperties();const adminEmails = props.getProperty('ADMIN_EMAILS') || '';return adminEmails.split(',').map(e => e.trim()).includes(email);}catch (error){console.error('SystemController.checkIsSystemAdmin ã‚¨ãƒ©ãƒ¼:',error.message);return false;}}"
          },
          {
            "name": "checkIsSystemAdmin",
            "signature": "function checkIsSystemAdmin()",
            "body": "// ç›´æ¥SystemController.gsã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—\n  return checkIsSystemAdminFromSystemController();\n}",
            "file": "main.gs",
            "lineNumber": 1281,
            "endLineNumber": 1284,
            "hash": "-18984130",
            "normalizedBody": "// ç›´æ¥SystemController.gsã®é–¢æ•°ã‚’å‘¼ã³å‡ºã— return checkIsSystemAdminFromSystemController();}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "getCurrentBoardInfoAndUrls",
        "functions": [
          {
            "name": "getCurrentBoardInfoAndUrls",
            "signature": "function getCurrentBoardInfoAndUrls()",
            "body": "try {\n    // ğŸ”§ DBåˆæœŸåŒ–ï¼ˆGASèª­ã¿è¾¼ã¿é †åºå¯¾å¿œï¼‰\n    const db = initDatabaseConnection();\n    if (!db) {\n      console.error('getCurrentBoardInfoAndUrls: DBåˆæœŸåŒ–å¤±æ•—');\n      return {\n        isActive: false,\n        error: 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼',\n        appPublished: false\n      };\n    }\n\n    // ğŸ¯ Zero-dependency: ç›´æ¥Session APIã§ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾—\n    const email = getCurrentEmailDirectSC();\n    if (!email) {\n      return {\n        isActive: false,\n        error: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',\n        appPublished: false\n      };\n    }\n\n    // ğŸ¯ DBåˆæœŸåŒ–æ¸ˆã¿ã®dbå¤‰æ•°ã‚’ä½¿ç”¨\n    const user = db.findUserByEmail(email);\n    if (!user) {\n      return {\n        isActive: false,\n        error: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',\n        appPublished: false\n      };\n    }\n\n    // ğŸ¯ Zero-dependency: ç›´æ¥PropertiesServiceã§ã‚¢ãƒ—ãƒªçŠ¶æ…‹ç¢ºèª\n    const props = PropertiesService.getScriptProperties();\n    const appStatus = props.getProperty('APPLICATION_STATUS');\n    const appPublished = appStatus === 'active';\n\n    if (!appPublished) {\n      return {\n        isActive: false,\n        appPublished: false,\n        questionText: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã›ã‚“'\n      };\n    }\n\n    // WebAppã®ãƒ™ãƒ¼ã‚¹URLå–å¾—\n    const baseUrl = ScriptApp.getService().getUrl();\n    const viewUrl = `${baseUrl}?mode=view&userId=${user.userId}`;\n\n    // è¨­å®šãŒã‚ã‚‹å ´åˆã¯ãã®æƒ…å ±ã‚‚å«ã‚ã‚‹\n    let config = {};\n    if (user.configJson) {\n      try {\n        config = JSON.parse(user.configJson);\n      } catch (parseError) {\n        console.warn('getCurrentBoardInfoAndUrls: è¨­å®šJSONè§£æã‚¨ãƒ©ãƒ¼', parseError);\n      }\n    }\n\n    return {\n      isActive: true,\n      appPublished: true,\n      questionText: config.questionText || config.boardTitle || 'Everyone\\'s Answer Board',\n      urls: {\n        view: viewUrl,\n        admin: `${baseUrl}?mode=admin&userId=${user.userId}`\n      },\n      lastUpdated: config.publishedAt || config.lastModified || new Date().toISOString()\n    };\n\n  } catch (error) {\n    console.error('AdminController.getCurrentBoardInfoAndUrls ã‚¨ãƒ©ãƒ¼:', error.message);\n    return {\n      isActive: false,\n      appPublished: false,\n      error: error.message\n    };\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 827,
            "endLineNumber": 906,
            "hash": "-104083201",
            "normalizedBody": "try{// ğŸ”§ DBåˆæœŸåŒ–ï¼ˆGASèª­ã¿è¾¼ã¿é †åºå¯¾å¿œï¼‰ const db = initDatabaseConnection();if (!db){console.error('getCurrentBoardInfoAndUrls: DBåˆæœŸåŒ–å¤±æ•—');return{isActive: false,error: 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹æ¥ç¶šã‚¨ãƒ©ãƒ¼',appPublished: false};}// ğŸ¯ Zero-dependency: ç›´æ¥Session APIã§ãƒ¦ãƒ¼ã‚¶ãƒ¼å–å¾— const email = getCurrentEmailDirectSC();if (!email){return{isActive: false,error: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',appPublished: false};}// ğŸ¯ DBåˆæœŸåŒ–æ¸ˆã¿ã®dbå¤‰æ•°ã‚’ä½¿ç”¨ const user = db.findUserByEmail(email);if (!user){return{isActive: false,error: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“',appPublished: false};}// ğŸ¯ Zero-dependency: ç›´æ¥PropertiesServiceã§ã‚¢ãƒ—ãƒªçŠ¶æ…‹ç¢ºèª const props = PropertiesService.getScriptProperties();const appStatus = props.getProperty('APPLICATION_STATUS');const appPublished = appStatus === 'active';if (!appPublished){return{isActive: false,appPublished: false,questionText: 'ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ãŒå…¬é–‹ã•ã‚Œã¦ã„ã¾ã›ã‚“'};}// WebAppã®ãƒ™ãƒ¼ã‚¹URLå–å¾— const baseUrl = ScriptApp.getService().getUrl();const viewUrl = `${baseUrl}?mode=view&userId=${user.userId}`;// è¨­å®šãŒã‚ã‚‹å ´åˆã¯ãã®æƒ…å ±ã‚‚å«ã‚ã‚‹ let config ={};if (user.configJson){try{config = JSON.parse(user.configJson);}catch (parseError){console.warn('getCurrentBoardInfoAndUrls: è¨­å®šJSONè§£æã‚¨ãƒ©ãƒ¼',parseError);}}return{isActive: true,appPublished: true,questionText: config.questionText || config.boardTitle || 'Everyone\\'s Answer Board',urls:{view: viewUrl,admin: `${baseUrl}?mode=admin&userId=${user.userId}`},lastUpdated: config.publishedAt || config.lastModified || new Date().toISOString()};}catch (error){console.error('AdminController.getCurrentBoardInfoAndUrls ã‚¨ãƒ©ãƒ¼:',error.message);return{isActive: false,appPublished: false,error: error.message};}}"
          },
          {
            "name": "getCurrentBoardInfoAndUrls",
            "signature": "function getCurrentBoardInfoAndUrls()",
            "body": "// ç›´æ¥SystemController.gsã®é–¢æ•°ã‚’å‘¼ã³å‡ºã—\n  return getCurrentBoardInfoAndUrlsFromSystemController();\n}",
            "file": "main.gs",
            "lineNumber": 1183,
            "endLineNumber": 1186,
            "hash": "-1790380038",
            "normalizedBody": "// ç›´æ¥SystemController.gsã®é–¢æ•°ã‚’å‘¼ã³å‡ºã— return getCurrentBoardInfoAndUrlsFromSystemController();}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "getUser",
        "functions": [
          {
            "name": "getUser",
            "signature": "function getUser(kind = 'email')",
            "body": "try {\n    // ğŸš€ Direct Session API fallback - no service dependencies\n    const userEmail = getCurrentEmailDirectSC();\n\n    if (!userEmail) {\n      console.warn('getUser: No email available from Session API');\n      return kind === 'email' ? '' : { success: false, message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒå–å¾—ã§ãã¾ã›ã‚“' };\n    }\n\n    // å¾Œæ–¹äº’æ›æ€§é‡è¦–: kind==='email' ã®å ´åˆã¯ç´”ç²‹ãªæ–‡å­—åˆ—ã‚’è¿”ã™\n    if (kind === 'email') {\n      return String(userEmail);\n    }\n\n    // çµ±ä¸€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ï¼ˆ'full' ãªã©ï¼‰- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æƒ…å ±\n    const userInfo = { userEmail, userId: null, isActive: true };\n    return {\n      success: true,\n      email: userEmail,\n      userId: userInfo?.userId || null,\n      isActive: userInfo?.isActive || false,\n      hasConfig: !!userInfo?.config\n    };\n  } catch (error) {\n    console.error('FrontendController.getUser ã‚¨ãƒ©ãƒ¼:', error.message);\n    return kind === 'email' ? '' : { success: false, message: error.message };\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 1046,
            "endLineNumber": 1074,
            "hash": "-650954819",
            "normalizedBody": "try{// ğŸš€ Direct Session API fallback - no service dependencies const userEmail = getCurrentEmailDirectSC();if (!userEmail){console.warn('getUser: No email available from Session API');return kind === 'email' ? '' :{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ãŒå–å¾—ã§ãã¾ã›ã‚“'};}// å¾Œæ–¹äº’æ›æ€§é‡è¦–: kind==='email' ã®å ´åˆã¯ç´”ç²‹ãªæ–‡å­—åˆ—ã‚’è¿”ã™ if (kind === 'email'){return String(userEmail);}// çµ±ä¸€ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå½¢å¼ï¼ˆ'full' ãªã©ï¼‰- ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯æƒ…å ± const userInfo ={userEmail,userId: null,isActive: true};return{success: true,email: userEmail,userId: userInfo?.userId || null,isActive: userInfo?.isActive || false,hasConfig: !!userInfo?.config};}catch (error){console.error('FrontendController.getUser ã‚¨ãƒ©ãƒ¼:',error.message);return kind === 'email' ? '' :{success: false,message: error.message};}}"
          },
          {
            "name": "getUser",
            "signature": "function getUser(infoType = 'email')",
            "body": "try {\n    const session = ServiceFactory.getSession();\n    if (!session.isValid || !session.email) {\n      return {\n        success: false,\n        message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“'\n      };\n    }\n\n    if (infoType === 'email') {\n      return {\n        success: true,\n        email: session.email\n      };\n    }\n\n    if (infoType === 'full') {\n      // ServiceFactoryçµŒç”±ã§UserServiceåˆ©ç”¨\n      const service = getAvailableService('UserService');\n      if (service && typeof service.getCurrentUserInfo === 'function') {\n        const userInfo = service.getCurrentUserInfo();\n        return userInfo ? {\n          success: true,\n          ...userInfo\n        } : {\n          success: false,\n          message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“'\n        };\n      }\n\n      // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯\n      return {\n        success: true,\n        userEmail: session.email,\n        userId: `user_${session.email.replace('@', '_at_').replace(/\\./g, '_')}`\n      };\n    }\n\n    return {\n      success: false,\n      message: 'ä¸æ˜ãªæƒ…å ±ã‚¿ã‚¤ãƒ—ã§ã™'\n    };\n  } catch (error) {\n    console.error('getUser error:', error.message);\n    return {\n      success: false,\n      message: `ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`\n    };\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1433,
            "endLineNumber": 1483,
            "hash": "-1965918120",
            "normalizedBody": "try{const session = ServiceFactory.getSession();if (!session.isValid || !session.email){return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“'};}if (infoType === 'email'){return{success: true,email: session.email};}if (infoType === 'full'){// ServiceFactoryçµŒç”±ã§UserServiceåˆ©ç”¨ const service = getAvailableService('UserService');if (service && typeof service.getCurrentUserInfo === 'function'){const userInfo = service.getCurrentUserInfo();return userInfo ?{success: true,...userInfo}:{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼è©³ç´°æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“'};}// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ return{success: true,userEmail: session.email,userId: `user_${session.email.replace('@','_at_').replace(/\\./g,'_')}`};}return{success: false,message: 'ä¸æ˜ãªæƒ…å ±ã‚¿ã‚¤ãƒ—ã§ã™'};}catch (error){console.error('getUser error:',error.message);return{success: false,message: `ãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±å–å¾—ã‚¨ãƒ©ãƒ¼: ${error.message}`};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "processLoginAction",
        "functions": [
          {
            "name": "processLoginAction",
            "signature": "function processLoginAction()",
            "body": "try {\n    console.log('ğŸ” SystemController.processLoginAction: é–‹å§‹ (Zero-Dependency)');\n\n    // ğŸš€ Zero-dependency: ç›´æ¥Sessionã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼Emailå–å¾—\n    const session = ServiceFactory.getSession();\n    if (!session.isValid || !session.email) {\n      console.warn('SystemController.processLoginAction: ç„¡åŠ¹ãªã‚»ãƒƒã‚·ãƒ§ãƒ³');\n      return {\n        success: false,\n        message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãŒå¿…è¦ã§ã™',\n        needsAuth: true\n      };\n    }\n\n    const userEmail = session.email;\n    console.log('ğŸ” SystemController.processLoginAction: ã‚»ãƒƒã‚·ãƒ§ãƒ³Emailå–å¾—', { userEmail });\n\n    // ğŸš€ Zero-dependency: ServiceFactoryçµŒç”±ã§UserServiceå–å¾—\n    const userService = getAvailableService('UserService');\n    let userInfo = null;\n\n    if (userService && typeof userService.getCurrentUserInfo === 'function') {\n      userInfo = userService.getCurrentUserInfo();\n      console.log('ğŸ” SystemController.processLoginAction: UserServiceçµŒç”±ã§userInfoå–å¾—', { hasUserInfo: !!userInfo });\n    }\n\n    // ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ç°¡æ˜“çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ç”Ÿæˆ\n    if (!userInfo) {\n      console.log('ğŸ” SystemController.processLoginAction: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ - ç°¡æ˜“userInfoç”Ÿæˆ');\n      userInfo = {\n        userId: generateUserId(),\n        email: userEmail,\n        createdAt: new Date().toISOString(),\n        accessLevel: 'authenticated_user'\n      };\n    }\n\n    // ç®¡ç†ãƒ‘ãƒãƒ«ç”¨URLã‚’æ§‹ç¯‰ï¼ˆuserIdå¿…é ˆï¼‰\n    const baseUrl = getWebAppUrl();\n    const userId = userInfo?.userId;\n\n    if (!userId) {\n      return {\n        success: false,\n        message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ',\n        error: 'USER_ID_MISSING'\n      };\n    }\n\n    const adminUrl = `${baseUrl}?mode=admin&userId=${userId}`;\n\n    return {\n      success: true,\n      userInfo,\n      redirectUrl: baseUrl,\n      adminUrl,\n      // å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚ã®è¿½åŠ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£\n      appUrl: baseUrl,\n      url: adminUrl\n    };\n\n  } catch (error) {\n    console.error('FrontendController.processLoginAction ã‚¨ãƒ©ãƒ¼:', error.message);\n    return {\n      success: false,\n      message: error.message\n    };\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 1087,
            "endLineNumber": 1156,
            "hash": "-885411942",
            "normalizedBody": "try{console.log('ğŸ” SystemController.processLoginAction: é–‹å§‹ (Zero-Dependency)');// ğŸš€ Zero-dependency: ç›´æ¥Sessionã‹ã‚‰ãƒ¦ãƒ¼ã‚¶ãƒ¼Emailå–å¾— const session = ServiceFactory.getSession();if (!session.isValid || !session.email){console.warn('SystemController.processLoginAction: ç„¡åŠ¹ãªã‚»ãƒƒã‚·ãƒ§ãƒ³');return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ãŒå¿…è¦ã§ã™',needsAuth: true};}const userEmail = session.email;console.log('ğŸ” SystemController.processLoginAction: ã‚»ãƒƒã‚·ãƒ§ãƒ³Emailå–å¾—',{userEmail});// ğŸš€ Zero-dependency: ServiceFactoryçµŒç”±ã§UserServiceå–å¾— const userService = getAvailableService('UserService');let userInfo = null;if (userService && typeof userService.getCurrentUserInfo === 'function'){userInfo = userService.getCurrentUserInfo();console.log('ğŸ” SystemController.processLoginAction: UserServiceçµŒç”±ã§userInfoå–å¾—',{hasUserInfo: !!userInfo});}// ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯: ç°¡æ˜“çš„ãªãƒ¦ãƒ¼ã‚¶ãƒ¼æƒ…å ±ç”Ÿæˆ if (!userInfo){console.log('ğŸ” SystemController.processLoginAction: ãƒ•ã‚©ãƒ¼ãƒ«ãƒãƒƒã‚¯ - ç°¡æ˜“userInfoç”Ÿæˆ');userInfo ={userId: generateUserId(),email: userEmail,createdAt: new Date().toISOString(),accessLevel: 'authenticated_user'};}// ç®¡ç†ãƒ‘ãƒãƒ«ç”¨URLã‚’æ§‹ç¯‰ï¼ˆuserIdå¿…é ˆï¼‰ const baseUrl = getWebAppUrl();const userId = userInfo?.userId;if (!userId){return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼IDã®å–å¾—ã«å¤±æ•—ã—ã¾ã—ãŸ',error: 'USER_ID_MISSING'};}const adminUrl = `${baseUrl}?mode=admin&userId=${userId}`;return{success: true,userInfo,redirectUrl: baseUrl,adminUrl,// å¾Œæ–¹äº’æ›æ€§ã®ãŸã‚ã®è¿½åŠ ãƒ—ãƒ­ãƒ‘ãƒ†ã‚£ appUrl: baseUrl,url: adminUrl};}catch (error){console.error('FrontendController.processLoginAction ã‚¨ãƒ©ãƒ¼:',error.message);return{success: false,message: error.message};}}"
          },
          {
            "name": "processLoginAction",
            "signature": "function processLoginAction(action = 'login')",
            "body": "try {\n    console.log('ğŸ” processLoginAction: é–‹å§‹', { action });\n\n    // ğŸš€ Direct session-based login (Zero Dependencies)\n    const session = ServiceFactory.getSession();\n    console.log('ğŸ” processLoginAction: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¢ºèª', { isValid: session.isValid, hasEmail: !!session.email });\n\n    if (session.isValid && session.email) {\n      // ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ - ç®¡ç†ãƒ‘ãƒãƒ«URLã‚’ç”Ÿæˆ\n      const baseUrl = getWebAppUrl();\n      const adminUrl = `${baseUrl}?mode=admin&userId=${session.userId || 'auto-generated'}`;\n\n      return {\n        success: true,\n        message: 'ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ',\n        userEmail: session.email,\n        adminUrl: adminUrl,\n        redirectUrl: adminUrl\n      };\n    }\n\n    return {\n      success: false,\n      message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚'\n    };\n  } catch (error) {\n    console.error('ğŸš¨ processLoginAction error:', error);\n    return {\n      success: false,\n      message: `ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ã‚¨ãƒ©ãƒ¼: ${error.message}`\n    };\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1513,
            "endLineNumber": 1546,
            "hash": "780413162",
            "normalizedBody": "try{console.log('ğŸ” processLoginAction: é–‹å§‹',{action});// ğŸš€ Direct session-based login (Zero Dependencies) const session = ServiceFactory.getSession();console.log('ğŸ” processLoginAction: ã‚»ãƒƒã‚·ãƒ§ãƒ³ç¢ºèª',{isValid: session.isValid,hasEmail: !!session.email});if (session.isValid && session.email){// ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ - ç®¡ç†ãƒ‘ãƒãƒ«URLã‚’ç”Ÿæˆ const baseUrl = getWebAppUrl();const adminUrl = `${baseUrl}?mode=admin&userId=${session.userId || 'auto-generated'}`;return{success: true,message: 'ãƒ­ã‚°ã‚¤ãƒ³æˆåŠŸ',userEmail: session.email,adminUrl: adminUrl,redirectUrl: adminUrl};}return{success: false,message: 'ãƒ¦ãƒ¼ã‚¶ãƒ¼èªè¨¼ã«å¤±æ•—ã—ã¾ã—ãŸã€‚å†åº¦ãŠè©¦ã—ãã ã•ã„ã€‚'};}catch (error){console.error('ğŸš¨ processLoginAction error:',error);return{success: false,message: `ãƒ­ã‚°ã‚¤ãƒ³å‡¦ç†ã‚¨ãƒ©ãƒ¼: ${error.message}`};}}"
          }
        ],
        "type": "name_conflict"
      },
      {
        "name": "resetAuth",
        "functions": [
          {
            "name": "resetAuth",
            "signature": "function resetAuth()",
            "body": "try {\n    console.log('FrontendController.resetAuth: èªè¨¼ãƒªã‚»ãƒƒãƒˆé–‹å§‹');\n\n    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢\n    UserService.clearUserCache();\n\n    // ã‚»ãƒƒã‚·ãƒ§ãƒ³é–¢é€£ã®æƒ…å ±ã‚’ã‚¯ãƒªã‚¢\n    const props = PropertiesService.getScriptProperties();\n\n    // ä¸€æ™‚çš„ãªèªè¨¼æƒ…å ±ã‚’ã‚¯ãƒªã‚¢\n    const authKeys = ['temp_auth_token', 'last_login_attempt', 'auth_retry_count'];\n    authKeys.forEach(key => {\n      props.deleteProperty(key);\n    });\n\n    console.log('FrontendController.resetAuth: èªè¨¼ãƒªã‚»ãƒƒãƒˆå®Œäº†');\n\n    return {\n      success: true,\n      message: 'èªè¨¼æƒ…å ±ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸ'\n    };\n\n  } catch (error) {\n    console.error('FrontendController.resetAuth ã‚¨ãƒ©ãƒ¼:', error.message);\n    return {\n      success: false,\n      message: `èªè¨¼ãƒªã‚»ãƒƒãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`\n    };\n  }\n}",
            "file": "SystemController.gs",
            "lineNumber": 1197,
            "endLineNumber": 1227,
            "hash": "1546868542",
            "normalizedBody": "try{console.log('FrontendController.resetAuth: èªè¨¼ãƒªã‚»ãƒƒãƒˆé–‹å§‹');// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢ UserService.clearUserCache();// ã‚»ãƒƒã‚·ãƒ§ãƒ³é–¢é€£ã®æƒ…å ±ã‚’ã‚¯ãƒªã‚¢ const props = PropertiesService.getScriptProperties();// ä¸€æ™‚çš„ãªèªè¨¼æƒ…å ±ã‚’ã‚¯ãƒªã‚¢ const authKeys = ['temp_auth_token','last_login_attempt','auth_retry_count'];authKeys.forEach(key =>{props.deleteProperty(key);});console.log('FrontendController.resetAuth: èªè¨¼ãƒªã‚»ãƒƒãƒˆå®Œäº†');return{success: true,message: 'èªè¨¼æƒ…å ±ãŒãƒªã‚»ãƒƒãƒˆã•ã‚Œã¾ã—ãŸ'};}catch (error){console.error('FrontendController.resetAuth ã‚¨ãƒ©ãƒ¼:',error.message);return{success: false,message: `èªè¨¼ãƒªã‚»ãƒƒãƒˆã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`};}}"
          },
          {
            "name": "resetAuth",
            "signature": "function resetAuth()",
            "body": "try {\n    // ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ã§æœ€å°é™ã®å®Ÿè£…\n    console.log('Auth reset requested');\n    return {\n      success: true,\n      message: 'Authentication reset completed'\n    };\n  } catch (error) {\n    console.error('resetAuth error:', error.message);\n    return {\n      success: false,\n      message: `èªè¨¼ãƒªã‚»ãƒƒãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`\n    };\n  }\n}",
            "file": "main.gs",
            "lineNumber": 1571,
            "endLineNumber": 1586,
            "hash": "-1982193002",
            "normalizedBody": "try{// ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®ç†ç”±ã§æœ€å°é™ã®å®Ÿè£… console.log('Auth reset requested');return{success: true,message: 'Authentication reset completed'};}catch (error){console.error('resetAuth error:',error.message);return{success: false,message: `èªè¨¼ãƒªã‚»ãƒƒãƒˆã‚¨ãƒ©ãƒ¼: ${error.message}`};}}"
          }
        ],
        "type": "name_conflict"
      }
    ],
    "stats": {
      "totalFunctions": 237,
      "uniqueNames": 212,
      "duplicateGroups": 0
    }
  },
  "summary": {
    "totalFunctions": 237,
    "exactDuplicates": 0,
    "nameConflicts": 22,
    "similarFunctions": 0
  }
}